var Email="",GutscheincodeString="";if(String(window.sessionStorage.getItem("Email"))!="" && String(window.sessionStorage.getItem("Email"))!="null" && String(window.sessionStorage.getItem("Email"))!="undefined"){		Email = String(window.sessionStorage.getItem("Email"));}//globalRabatte 代理给予客户的折扣//globalCoupon 优惠码var oneKunden = new KundenObj();var globalSumme=0,globalCoupon=0,globalRabatte=0;var CountrycodeArr = new Array();var PaymentBetragObj = new BestellungBetragObj();var AnfangGlobalHasUserID = false;function GetQueryString(string){   var reg = new RegExp('(^|&)'+ string +'=([^&]*)(&|$)');   var r = window.location.search.substr(1).match(reg);   if(r!=null)return unescape(r[2]); return null;}function initGUI(){	searchCountrycodeAsyn();		if(UserID==0){		if(VorlaufigUserID!="" && VorlaufigKaufwagenArr.length>0){			document.getElementById("EmailInputDiv").style.display = "block";			searchVorlaufigEinkaufswagen();		}	}else{        AnfangGlobalHasUserID = true;		searchKunden();	}}function searchKunden() {    oneKunden = new KundenObj();    $.ajax({        type: "POST",        url: "/frontend_kasse_1",        contentType: 'application/x-www-form-urlencoded',        xhrFields: { withCredentials: true },        cache: false,        data: {            "UserID": UserID        },        success: function(response) {			if (response.results && Array.isArray(response.results)) {				                response.results.forEach(function (item) {					let obj = {};					for (let key in item) {						let val = item[key];						// 1. BIT 类型字段：Buffer 转 0/1						if (val && typeof val === 'object' && val.type === 'Buffer' && Array.isArray(val.data)) {							obj[key] = val.data[0] ? 1 : 0;						}						// 2. 包含 "Datum" 的字段						else if (key.includes("Datum")) {							if (val === null || val === undefined) {								obj[key] = ""; // null 或 undefined → 空字符串							} else {								try {									obj[key] = val.toString().substring(0, 10); // 取 YYYY-MM-DD								} catch (e) {									obj[key] = ""; // 容错								}							}						}						// 3. 其他字段：正常赋值						else {							obj[key] = val;						}					}					oneKunden = obj;				});								if(oneKunden.VertreterFloat6!=0) globalRabatte = parseFloat(oneKunden.VertreterFloat6);								searchEinkaufswagen();				searchKundenShipping();				searchKundenBilling();            }                   },        error: function(error) {            console.log(error);        }    });}var EinkaufswagenArr = new Array();function searchEinkaufswagen(){	EinkaufswagenArr = new Array();	$.ajax({    type: 'POST',    url: '/frontend_kasse_2',    data: {      "UserID": UserID    },    cache: false,    success: function (response) {      initEinkaufswagen(response);    },    error: function (response) {      console.log(response);    }  });}function searchVorlaufigEinkaufswagen(){	EinkaufswagenArr = new Array();	$.ajax({    type: 'POST',    url: '/frontend_kasse_6',    data: {      "VorlaufigKaufwagenArr":JSON.stringify(VorlaufigKaufwagenArr),    },    cache: false,    success: function (response) {      initEinkaufswagen(response);    },    error: function (response) {      console.log(response);    }  });}function initEinkaufswagen(resXML){	var xmlDoc = resXML.documentElement;	EinkaufswagenArr = new Array();	var prIDX,frIDX,Datum1,Datum2,Datum3,Datum4,ProduktString13,EinkaufswagenString1,EinkaufswagenString2,EinkaufswagenString3,EinkaufswagenString4,EinkaufswagenString5,EinkaufswagenString6,EinkaufswagenString7,EinkaufswagenString8,EinkaufswagenString9,EinkaufswagenString10,EinkaufswagenString11,EinkaufswagenString12,EinkaufswagenString13,EinkaufswagenInt1,EinkaufswagenInt2,EinkaufswagenInt3,EinkaufswagenInt4,EinkaufswagenFloat1,EinkaufswagenFloat2,EinkaufswagenFloat3,EinkaufswagenFloat4,EinkaufswagenBIT1,EinkaufswagenBIT2,EinkaufswagenString14,EinkaufswagenString15,EinkaufswagenString16,EinkaufswagenString17,EinkaufswagenString18,EinkaufswagenString19,EinkaufswagenString20,EinkaufswagenString21,EinkaufswagenString22,EinkaufswagenString23,EinkaufswagenString24,EinkaufswagenString25,EinkaufswagenString26,EinkaufswagenString27,EinkaufswagenString28,EinkaufswagenString29,EinkaufswagenInt5,Status,EinkaufswagenFloat5,EinkaufswagenFloat6;	for(var i=0; i<xmlDoc.getElementsByTagName("Einkaufswagen").length; i++){		prIDX=0;frIDX=0;Datum1="";Datum2="";Datum3="";Datum4="";ProduktString13="";EinkaufswagenString1="";EinkaufswagenString2="";EinkaufswagenString3="";EinkaufswagenString4="";EinkaufswagenString5="";EinkaufswagenString6="";EinkaufswagenString7="";EinkaufswagenString8="";EinkaufswagenString9="";EinkaufswagenString10="";EinkaufswagenString11="";EinkaufswagenString12="";EinkaufswagenString13="";EinkaufswagenInt1=0;EinkaufswagenInt2=0;EinkaufswagenInt3=0;EinkaufswagenInt4=0;EinkaufswagenFloat1=0;EinkaufswagenFloat2=0;EinkaufswagenFloat3=0;EinkaufswagenFloat4=0;EinkaufswagenBIT1=0;EinkaufswagenBIT2=0;EinkaufswagenString14="";EinkaufswagenString15="";EinkaufswagenString16="";EinkaufswagenString17="";EinkaufswagenString18="";EinkaufswagenString19="";EinkaufswagenString20="";EinkaufswagenString21="";EinkaufswagenString22="";EinkaufswagenString23="";EinkaufswagenString24="";EinkaufswagenString25="";EinkaufswagenString26="";EinkaufswagenString27="";EinkaufswagenString28="";EinkaufswagenString29="";EinkaufswagenInt5=0;Status=0;EinkaufswagenFloat5=0;EinkaufswagenFloat6=0;		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("prIDX")[0].childNodes[0]) != "undefined")		prIDX=parseInt(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("prIDX")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("frIDX")[0].childNodes[0]) != "undefined")		frIDX=parseInt(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("frIDX")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("Datum1")[0].childNodes[0]) != "undefined")		Datum1=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("Datum1")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("Datum2")[0].childNodes[0]) != "undefined")		Datum2=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("Datum2")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("Datum3")[0].childNodes[0]) != "undefined")		Datum3=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("Datum3")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("Datum4")[0].childNodes[0]) != "undefined")		Datum4=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("Datum4")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("ProduktString13")[0].childNodes[0]) != "undefined")		ProduktString13=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("ProduktString13")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString1")[0].childNodes[0]) != "undefined")		EinkaufswagenString1=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString1")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString2")[0].childNodes[0]) != "undefined")		EinkaufswagenString2=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString2")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString3")[0].childNodes[0]) != "undefined")		EinkaufswagenString3=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString3")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString4")[0].childNodes[0]) != "undefined")		EinkaufswagenString4=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString4")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString5")[0].childNodes[0]) != "undefined")		EinkaufswagenString5=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString5")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString6")[0].childNodes[0]) != "undefined")		EinkaufswagenString6=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString6")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString7")[0].childNodes[0]) != "undefined")		EinkaufswagenString7=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString7")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString8")[0].childNodes[0]) != "undefined")		EinkaufswagenString8=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString8")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString9")[0].childNodes[0]) != "undefined")		EinkaufswagenString9=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString9")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString10")[0].childNodes[0]) != "undefined")		EinkaufswagenString10=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString10")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString11")[0].childNodes[0]) != "undefined")		EinkaufswagenString11=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString11")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString12")[0].childNodes[0]) != "undefined")		EinkaufswagenString12=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString12")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString13")[0].childNodes[0]) != "undefined")		EinkaufswagenString13=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString13")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenInt1")[0].childNodes[0]) != "undefined")		EinkaufswagenInt1=parseInt(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenInt1")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenInt2")[0].childNodes[0]) != "undefined")		EinkaufswagenInt2=parseInt(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenInt2")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenInt3")[0].childNodes[0]) != "undefined")		EinkaufswagenInt3=parseInt(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenInt3")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenInt4")[0].childNodes[0]) != "undefined")		EinkaufswagenInt4=parseInt(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenInt4")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenFloat1")[0].childNodes[0]) != "undefined")		EinkaufswagenFloat1=parseFloat(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenFloat1")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenFloat2")[0].childNodes[0]) != "undefined")		EinkaufswagenFloat2=parseFloat(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenFloat2")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenFloat3")[0].childNodes[0]) != "undefined")		EinkaufswagenFloat3=parseFloat(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenFloat3")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenFloat4")[0].childNodes[0]) != "undefined")		EinkaufswagenFloat4=parseFloat(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenFloat4")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenBIT1")[0].childNodes[0]) != "undefined")		if(String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenBIT1")[0].childNodes[0].nodeValue).toLowerCase()=="true")		EinkaufswagenBIT1=1;		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenBIT2")[0].childNodes[0]) != "undefined")		if(String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenBIT2")[0].childNodes[0].nodeValue).toLowerCase()=="true")		EinkaufswagenBIT2=1;		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString14")[0].childNodes[0]) != "undefined")		EinkaufswagenString14=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString14")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString15")[0].childNodes[0]) != "undefined")		EinkaufswagenString15=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString15")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString16")[0].childNodes[0]) != "undefined")		EinkaufswagenString16=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString16")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString17")[0].childNodes[0]) != "undefined")		EinkaufswagenString17=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString17")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString18")[0].childNodes[0]) != "undefined")		EinkaufswagenString18=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString18")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString19")[0].childNodes[0]) != "undefined")		EinkaufswagenString19=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString19")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString20")[0].childNodes[0]) != "undefined")		EinkaufswagenString20=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString20")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString21")[0].childNodes[0]) != "undefined")		EinkaufswagenString21=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString21")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString22")[0].childNodes[0]) != "undefined")		EinkaufswagenString22=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString22")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString23")[0].childNodes[0]) != "undefined")		EinkaufswagenString23=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString23")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString24")[0].childNodes[0]) != "undefined")		EinkaufswagenString24=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString24")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString25")[0].childNodes[0]) != "undefined")		EinkaufswagenString25=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString25")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString26")[0].childNodes[0]) != "undefined")		EinkaufswagenString26=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString26")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString27")[0].childNodes[0]) != "undefined")		EinkaufswagenString27=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString27")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString28")[0].childNodes[0]) != "undefined")		EinkaufswagenString28=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString28")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString29")[0].childNodes[0]) != "undefined")		EinkaufswagenString29=String(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenString29")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenInt5")[0].childNodes[0]) != "undefined")		EinkaufswagenInt5=parseInt(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenInt5")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("Status")[0].childNodes[0]) != "undefined")		Status=parseInt(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("Status")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenFloat5")[0].childNodes[0]) != "undefined")		EinkaufswagenFloat5=parseFloat(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenFloat5")[0].childNodes[0].nodeValue);		if(typeof(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenFloat6")[0].childNodes[0]) != "undefined")		EinkaufswagenFloat6=parseFloat(xmlDoc.getElementsByTagName("Einkaufswagen")[i].getElementsByTagName("EinkaufswagenFloat6")[0].childNodes[0].nodeValue);		EinkaufswagenArr.push(new EinkaufswagenObj(prIDX,frIDX,Datum1,Datum2,Datum3,Datum4,ProduktString13,EinkaufswagenString1,EinkaufswagenString2,EinkaufswagenString3,EinkaufswagenString4,EinkaufswagenString5,EinkaufswagenString6,EinkaufswagenString7,EinkaufswagenString8,EinkaufswagenString9,EinkaufswagenString10,EinkaufswagenString11,EinkaufswagenString12,EinkaufswagenString13,EinkaufswagenInt1,EinkaufswagenInt2,EinkaufswagenInt3,EinkaufswagenInt4,EinkaufswagenFloat1,EinkaufswagenFloat2,EinkaufswagenFloat3,EinkaufswagenFloat4,EinkaufswagenBIT1,EinkaufswagenBIT2,EinkaufswagenString14,EinkaufswagenString15,EinkaufswagenString16,EinkaufswagenString17,EinkaufswagenString18,EinkaufswagenString19,EinkaufswagenString20,EinkaufswagenString21,EinkaufswagenString22,EinkaufswagenString23,EinkaufswagenString24,EinkaufswagenString25,EinkaufswagenString26,EinkaufswagenString27,EinkaufswagenString28,EinkaufswagenString29,EinkaufswagenInt5,Status,EinkaufswagenFloat5,EinkaufswagenFloat6));	}	showEinkaufswagen();}function getPaypalItemArr(){	var arr = new Array();	for(var i=0; i<EinkaufswagenArr.length; i++){		var AngebotPreis = parseFloat(EinkaufswagenArr[i].EinkaufswagenFloat1);			if(parseInt(EinkaufswagenArr[i].EinkaufswagenInt5)>0){					AngebotPreis = parseFloat(EinkaufswagenArr[i].EinkaufswagenFloat1*parseFloat(1-parseFloat(parseInt(EinkaufswagenArr[i].EinkaufswagenInt5)/100)).toFixed(2));		}		var tempName = 	unescape(EinkaufswagenArr[i].EinkaufswagenString27).replace("Personalisierte ","").replace("mit Bild","").replace("mit Namen","").replace("mit Name","");		arr.push(new itemsObj(			tempName,			{value: parseFloat(parseFloat(AngebotPreis).toFixed(2)), currency_code: 'EUR'},			parseInt(EinkaufswagenArr[i].EinkaufswagenInt3),			String('KE'+EinkaufswagenArr[i].EinkaufswagenInt2)		));		}	return arr;}function getStripeItemArr(){	var arr = "";	for(var i=0; i<EinkaufswagenArr.length; i++){		var AngebotPreis = parseFloat(EinkaufswagenArr[i].EinkaufswagenFloat1);			if(EinkaufswagenArr[i].EinkaufswagenFloat2>0) AngebotPreis = parseFloat(EinkaufswagenArr[i].EinkaufswagenFloat2);		if(parseInt(EinkaufswagenArr[i].EinkaufswagenInt5)>0){					AngebotPreis = parseFloat(AngebotPreis*parseFloat(1-parseFloat(parseInt(EinkaufswagenArr[i].EinkaufswagenInt5)/100)).toFixed(2));		}		var tempName = 	unescape(EinkaufswagenArr[i].EinkaufswagenString27).replace("Personalisierte ","").replace("mit Bild","").replace("mit Namen","").replace("mit Name","");				if(arr!="") arr += "##";		arr += String('KE'+EinkaufswagenArr[i].EinkaufswagenInt2)+"-"+tempName+"-"+parseFloat(parseFloat(AngebotPreis).toFixed(2))+"-"+parseInt(EinkaufswagenArr[i].EinkaufswagenInt3)	}	if(String(arr).length>480) arr = arr.substring(0,480);			return arr;}function showEinkaufswagen(){	var txt = "", Produktname = "";		for(var i=0; i<EinkaufswagenArr.length; i++){		Produktname = "";			switch (lang) {			case "en":				Produktname = unescape(EinkaufswagenArr[i].EinkaufswagenString4).replace(/%22/ig," ");				break;			case "de":				Produktname = unescape(EinkaufswagenArr[i].EinkaufswagenString2).replace(/%22/ig," ");				break;			case "fr":				Produktname = unescape(EinkaufswagenArr[i].EinkaufswagenString5).replace(/%22/ig," ");				break;			case "cn":				Produktname = unescape(EinkaufswagenArr[i].EinkaufswagenString3).replace(/%22/ig," ");					break;			default: 				Produktname = unescape(EinkaufswagenArr[i].EinkaufswagenString4).replace(/%22/ig," ");				break;		}		var AngebotPreis = parseFloat(EinkaufswagenArr[i].EinkaufswagenFloat1);			if(EinkaufswagenArr[i].EinkaufswagenFloat2>0) AngebotPreis = parseFloat(EinkaufswagenArr[i].EinkaufswagenFloat2);			txt += "<li><table style='width:100%;'><tr><td style='width:40%;padding-right: 20px;'>"+				"<img src='https://intranet.laaver.com/file/product/"+unescape(EinkaufswagenArr[i].ProduktString13)+"' style='max-width: 150px;' alt=''>"+				"&nbsp;&nbsp;</td><td>"+				"<span style='font-weight:bold;'>"+Produktname+"</span>&nbsp;&nbsp;<span>x "+parseInt(EinkaufswagenArr[i].EinkaufswagenInt3)+"</span>";						if(unescape(EinkaufswagenArr[i].EinkaufswagenString28) != "Standard: Standard") txt += "<br/><span>"+unescape(EinkaufswagenArr[i].EinkaufswagenString28)+"</span>";		txt += "<p>"+FCommaEUR(parseFloat(AngebotPreis*parseInt(EinkaufswagenArr[i].EinkaufswagenInt3)))+"&nbsp;€</p></td></tr></table></li>";							}	document.getElementById("KasseProduktListeUl").innerHTML = txt;		setTotalPreis();}function setTotalPreis(){	var tempSumme=0,tempRabatt=0;	for(var i=0; i<EinkaufswagenArr.length; i++){			var AngebotPreis = parseFloat(EinkaufswagenArr[i].EinkaufswagenFloat1);			if(EinkaufswagenArr[i].EinkaufswagenFloat2>0) AngebotPreis = parseFloat(EinkaufswagenArr[i].EinkaufswagenFloat2);					tempSumme += parseFloat(AngebotPreis*EinkaufswagenArr[i].EinkaufswagenInt3);	}	globalSumme = parseFloat(tempSumme);		document.getElementById("PreisDiv3").innerHTML = FCommaEUR(tempSumme-setGlobalRabatteSum()-globalCoupon)+"&nbsp;€";	document.getElementById("PreisDiv2").innerHTML = "- "+FCommaEUR(setGlobalRabatteSum())+"&nbsp;€";	document.getElementById("PreisDiv4").innerHTML = "- "+FCommaEUR(globalCoupon)+"&nbsp;€";		if(globalCoupon>0) document.getElementById("GutscheincodeInfoDiv4").style.display = "block";	if(globalRabatte>0) document.getElementById("GutscheincodeInfoDiv3").style.display = "block";		if(EinkaufswagenArr.length>0){		document.getElementById("goToCheckoutButton").style.display = "inline-block";	}else{		document.getElementById("goToCheckoutButton").style.display = "none";	}	}var oneAngebotMain = new AngebotMainObj();function checkGutscheincode(){	oneAngebotMain = new AngebotMainObj();		$.ajax({		type: "POST",		url: "/frontend_kasse_3",		contentType: 'application/x-www-form-urlencoded',		async: true,		data: {			"Gutscheincode": escape(escape(document.getElementById("GutscheincodeInput").value))		},		success: function (response) {			if (response.results && Array.isArray(response.results)) {				                response.results.forEach(function (item) {					let obj = {};					for (let key in item) {						let val = item[key];						// 1. BIT 类型字段：Buffer 转 0/1						if (val && typeof val === 'object' && val.type === 'Buffer' && Array.isArray(val.data)) {							obj[key] = val.data[0] ? 1 : 0;						}						// 2. 包含 "Datum" 的字段						else if (key.includes("Datum")) {							if (val === null || val === undefined) {								obj[key] = ""; // null 或 undefined → 空字符串							} else {								try {									obj[key] = val.toString().substring(0, 10); // 取 YYYY-MM-DD								} catch (e) {									obj[key] = ""; // 容错								}							}						}						// 3. 其他字段：正常赋值						else {							obj[key] = val;						}					}					oneAngebotMain = obj;				});				showAngebotMain();            }else{			  let couponInvalidText = "";				switch (lang) {					case "en": couponInvalidText = "Coupon is invalid!"; break;					case "de": couponInvalidText = "Coupon ist ungültig!"; break;					case "fr": couponInvalidText = "Le coupon est invalide!"; break;					case "cn": couponInvalidText = "优惠码无效！"; break;				}				document.getElementById("GutscheincodeInfoDiv1").innerHTML = couponInvalidText;			  document.getElementById("GutscheincodeInfoDiv1").style.display = "block";			  document.getElementById("GutscheincodeInfoDiv2").style.display = "none";			  			  			  document.getElementById("PreisDiv3").innerHTML = FCommaEUR(parseFloat(globalSumme-setGlobalRabatteSum()))+"&nbsp;€";			  			  			  			  setTimeout(function(){				  document.getElementById("GutscheincodeInfoDiv1").style.display = "none";				  document.getElementById("GutscheincodeInput").value = "";			  },2000);		  }		}	});}function showAngebotMain(){	var bool=true;	GutscheincodeString = "";	globalCoupon = 0;	if(parseInt(oneAngebotMain.AngebotMainFloat3)>0 && parseInt(oneAngebotMain.AngebotMainFloat3)>=parseInt(globalSumme)){		bool=false; //不满足满X金额的条件	}else{				if(parseInt(oneAngebotMain.AngebotMainFloat1)>0){			globalCoupon = parseFloat(oneAngebotMain.AngebotMainFloat1);		}else if(parseInt(oneAngebotMain.AngebotMainFloat2)>0){			globalCoupon = setGlobalCouponSum(oneAngebotMain.AngebotMainFloat2);		}				}	if(bool){		//globalRabatte需要在优惠码折扣之后再减扣，所以这里要重新计算		document.getElementById("PreisDiv2").innerHTML = "- "+FCommaEUR(setGlobalRabatteSum())+"&nbsp;€";				document.getElementById("PreisDiv4").innerHTML = "- "+FCommaEUR(globalCoupon)+" €";		document.getElementById("GutscheincodeInfoDiv1").innerHTML = unescape(oneAngebotMain.AngebotMainString10);		document.getElementById("GutscheincodeInfoDiv1").style.display = "block";		document.getElementById("GutscheincodeInfoDiv2").style.display = "flex";		GutscheincodeString = String(oneAngebotMain.AngebotMainString10);		setTimeout(function(){			document.getElementById("GutscheincodeInput").value = "";			document.getElementById("GutscheincodeInfoDiv1").style.display = "none";		},3500);		document.getElementById("PreisDiv3").innerHTML = FCommaEUR(parseFloat(globalSumme-setGlobalRabatteSum()-globalCoupon))+"&nbsp;€";	}else{				document.getElementById("GutscheincodeInfoDiv1").style.display = "block";		document.getElementById("GutscheincodeInfoDiv2").style.display = "none";				let minPurchaseText = "";		let amountFormatted = FCommaEUR(parseInt(oneAngebotMain.AngebotMainFloat3));		switch (lang) {			case "en":				minPurchaseText = "To use this coupon, a minimum purchase of " + amountFormatted + " € is required.";				break;			case "de":				minPurchaseText = "Voraussetzung für die Nutzung des Coupon ist der Kauf von mindestens " + amountFormatted + " €";				break;			case "fr":				minPurchaseText = "Pour utiliser ce coupon, un achat minimum de " + amountFormatted + " € est requis.";				break;			case "cn":				minPurchaseText = "使用此优惠码需满足最低消费 " + amountFormatted + " 欧元。";				break;		}		document.getElementById("GutscheincodeInfoDiv1").innerHTML = minPurchaseText;				setTimeout(function(){			document.getElementById("GutscheincodeInfoDiv1").style.display = "none";			document.getElementById("GutscheincodeInput").value = "";		},3500);		document.getElementById("PreisDiv3").innerHTML = FCommaEUR(parseFloat(globalSumme-setGlobalRabatteSum()-globalCoupon))+"&nbsp;€";	}	}function showBillingAdresseDiv(){	if(document.getElementById("AdresseCheckbox").checked) document.getElementById("BillingDiv").style.display = "none";	else document.getElementById("BillingDiv").style.display = "block";}function AngebotMainObj(prIDX,frIDX,Datum1,Datum2,Datum3,Datum4,AngebotMainString10,AngebotMainString11,AngebotMainString12,AngebotMainString13,AngebotMainInt1,AngebotMainInt2,AngebotMainInt3,AngebotMainInt4,AngebotMainFloat1,AngebotMainFloat2,AngebotMainFloat3,AngebotMainFloat4,AngebotMainBIT1,AngebotMainBIT2,AngebotMainString14,AngebotMainString15,AngebotMainString16,AngebotMainString17,AngebotMainString18,AngebotMainString19,AngebotMainString20,AngebotMainString21,AngebotMainString22,AngebotMainString23,AngebotMainString24,AngebotMainString25,AngebotMainString26,AngebotMainString27,AngebotMainString28,AngebotMainString29,AngebotMainInt5,Status,AngebotMainFloat5,AngebotMainFloat6){   this.prIDX=prIDX;   this.frIDX=frIDX;   this.Datum1=Datum1;   this.Datum2=Datum2;   this.Datum3=Datum3;   this.Datum4=Datum4;   this.AngebotMainString10=AngebotMainString10;   this.AngebotMainString11=AngebotMainString11;   this.AngebotMainString12=AngebotMainString12;   this.AngebotMainString13=AngebotMainString13;   this.AngebotMainInt1=AngebotMainInt1;   this.AngebotMainInt2=AngebotMainInt2;   this.AngebotMainInt3=AngebotMainInt3;   this.AngebotMainInt4=AngebotMainInt4;   this.AngebotMainFloat1=AngebotMainFloat1;   this.AngebotMainFloat2=AngebotMainFloat2;   this.AngebotMainFloat3=AngebotMainFloat3;   this.AngebotMainFloat4=AngebotMainFloat4;   this.AngebotMainBIT1=AngebotMainBIT1;   this.AngebotMainBIT2=AngebotMainBIT2;   this.AngebotMainString14=AngebotMainString14;   this.AngebotMainString15=AngebotMainString15;   this.AngebotMainString16=AngebotMainString16;   this.AngebotMainString17=AngebotMainString17;   this.AngebotMainString18=AngebotMainString18;   this.AngebotMainString19=AngebotMainString19;   this.AngebotMainString20=AngebotMainString20;   this.AngebotMainString21=AngebotMainString21;   this.AngebotMainString22=AngebotMainString22;   this.AngebotMainString23=AngebotMainString23;   this.AngebotMainString24=AngebotMainString24;   this.AngebotMainString25=AngebotMainString25;   this.AngebotMainString26=AngebotMainString26;   this.AngebotMainString27=AngebotMainString27;   this.AngebotMainString28=AngebotMainString28;   this.AngebotMainString29=AngebotMainString29;   this.AngebotMainInt5=AngebotMainInt5;   this.Status=Status;   this.AngebotMainFloat5=AngebotMainFloat5;   this.AngebotMainFloat6=AngebotMainFloat6;}function EinkaufswagenObj(prIDX,frIDX,Datum1,Datum2,Datum3,Datum4,ProduktString13,EinkaufswagenString1,EinkaufswagenString2,EinkaufswagenString3,EinkaufswagenString4,EinkaufswagenString5,EinkaufswagenString6,EinkaufswagenString7,EinkaufswagenString8,EinkaufswagenString9,EinkaufswagenString10,EinkaufswagenString11,EinkaufswagenString12,EinkaufswagenString13,EinkaufswagenInt1,EinkaufswagenInt2,EinkaufswagenInt3,EinkaufswagenInt4,EinkaufswagenFloat1,EinkaufswagenFloat2,EinkaufswagenFloat3,EinkaufswagenFloat4,EinkaufswagenBIT1,EinkaufswagenBIT2,EinkaufswagenString14,EinkaufswagenString15,EinkaufswagenString16,EinkaufswagenString17,EinkaufswagenString18,EinkaufswagenString19,EinkaufswagenString20,EinkaufswagenString21,EinkaufswagenString22,EinkaufswagenString23,EinkaufswagenString24,EinkaufswagenString25,EinkaufswagenString26,EinkaufswagenString27,EinkaufswagenString28,EinkaufswagenString29,EinkaufswagenInt5,Status,EinkaufswagenFloat5,EinkaufswagenFloat6){   this.prIDX=prIDX;   this.frIDX=frIDX;   this.Datum1=Datum1;   this.Datum2=Datum2;   this.Datum3=Datum3;   this.Datum4=Datum4;   this.ProduktString13=ProduktString13;   this.EinkaufswagenString1=EinkaufswagenString1;   this.EinkaufswagenString2=EinkaufswagenString2;   this.EinkaufswagenString3=EinkaufswagenString3;   this.EinkaufswagenString4=EinkaufswagenString4;   this.EinkaufswagenString5=EinkaufswagenString5;   this.EinkaufswagenString6=EinkaufswagenString6;   this.EinkaufswagenString7=EinkaufswagenString7;   this.EinkaufswagenString8=EinkaufswagenString8;   this.EinkaufswagenString9=EinkaufswagenString9;   this.EinkaufswagenString10=EinkaufswagenString10;   this.EinkaufswagenString11=EinkaufswagenString11;   this.EinkaufswagenString12=EinkaufswagenString12;   this.EinkaufswagenString13=EinkaufswagenString13;   this.EinkaufswagenInt1=EinkaufswagenInt1;   this.EinkaufswagenInt2=EinkaufswagenInt2;   this.EinkaufswagenInt3=EinkaufswagenInt3;   this.EinkaufswagenInt4=EinkaufswagenInt4;   this.EinkaufswagenFloat1=EinkaufswagenFloat1;   this.EinkaufswagenFloat2=EinkaufswagenFloat2;   this.EinkaufswagenFloat3=EinkaufswagenFloat3;   this.EinkaufswagenFloat4=EinkaufswagenFloat4;   this.EinkaufswagenBIT1=EinkaufswagenBIT1;   this.EinkaufswagenBIT2=EinkaufswagenBIT2;   this.EinkaufswagenString14=EinkaufswagenString14;   this.EinkaufswagenString15=EinkaufswagenString15;   this.EinkaufswagenString16=EinkaufswagenString16;   this.EinkaufswagenString17=EinkaufswagenString17;   this.EinkaufswagenString18=EinkaufswagenString18;   this.EinkaufswagenString19=EinkaufswagenString19;   this.EinkaufswagenString20=EinkaufswagenString20;   this.EinkaufswagenString21=EinkaufswagenString21;   this.EinkaufswagenString22=EinkaufswagenString22;   this.EinkaufswagenString23=EinkaufswagenString23;   this.EinkaufswagenString24=EinkaufswagenString24;   this.EinkaufswagenString25=EinkaufswagenString25;   this.EinkaufswagenString26=EinkaufswagenString26;   this.EinkaufswagenString27=EinkaufswagenString27;   this.EinkaufswagenString28=EinkaufswagenString28;   this.EinkaufswagenString29=EinkaufswagenString29;   this.EinkaufswagenInt5=EinkaufswagenInt5;   this.Status=Status;   this.EinkaufswagenFloat5=EinkaufswagenFloat5;   this.EinkaufswagenFloat6=EinkaufswagenFloat6;}function KundenObj(prIDX,frIDX,Datum1,Datum2,Datum3,Datum4,KundenString10,KundenString11,KundenString12,KundenString13,KundenInt1,KundenInt2,KundenInt3,KundenInt4,KundenFloat1,KundenFloat2,KundenFloat3,KundenFloat4,KundenBIT1,KundenBIT2,KundenString14,KundenString15,KundenString16,KundenString17,KundenString18,KundenString19,KundenString20,KundenString21,KundenString22,KundenString23,KundenString24,KundenString25,KundenString26,KundenString27,KundenString28,KundenString29,KundenInt5,Status,KundenFloat5,KundenFloat6){   this.prIDX=prIDX;   this.frIDX=frIDX;   this.Datum1=Datum1;   this.Datum2=Datum2;   this.Datum3=Datum3;   this.Datum4=Datum4;   this.KundenString10=KundenString10;   this.KundenString11=KundenString11;   this.KundenString12=KundenString12;   this.KundenString13=KundenString13;   this.KundenInt1=KundenInt1;   this.KundenInt2=KundenInt2;   this.KundenInt3=KundenInt3;   this.KundenInt4=KundenInt4;   this.KundenFloat1=KundenFloat1;   this.KundenFloat2=KundenFloat2;   this.KundenFloat3=KundenFloat3;   this.KundenFloat4=KundenFloat4;   this.KundenBIT1=KundenBIT1;   this.KundenBIT2=KundenBIT2;   this.KundenString14=KundenString14;   this.KundenString15=KundenString15;   this.KundenString16=KundenString16;   this.KundenString17=KundenString17;   this.KundenString18=KundenString18;   this.KundenString19=KundenString19;   this.KundenString20=KundenString20;   this.KundenString21=KundenString21;   this.KundenString22=KundenString22;   this.KundenString23=KundenString23;   this.KundenString24=KundenString24;   this.KundenString25=KundenString25;   this.KundenString26=KundenString26;   this.KundenString27=KundenString27;   this.KundenString28=KundenString28;   this.KundenString29=KundenString29;   this.KundenInt5=KundenInt5;   this.Status=Status;   this.KundenFloat5=KundenFloat5;   this.KundenFloat6=KundenFloat6;}var KundenShippingArr = new Array();function searchKundenShipping(){	KundenShippingArr = new Array();	$.ajax({        type: "POST",        url: "/frontend_konto_4",        contentType: 'application/x-www-form-urlencoded',        xhrFields: { withCredentials: true },        cache: false,        data: {            "UserID": UserID        },        success: function (response) {			if(response.length>0){				response.forEach(function (item) {					KundenShippingArr.push(new KundenShippingObj(item.prIDX,item.frIDX,item.Datum1,item.Datum2,item.Datum3,item.Datum4,item.KundenShippingString10,item.KundenShippingString11,item.KundenShippingString12,item.KundenShippingString13,item.KundenShippingInt1,item.KundenShippingInt2,item.KundenShippingInt3,item.KundenShippingInt4,item.KundenShippingFloat1,item.KundenShippingFloat2,item.KundenShippingFloat3,item.KundenShippingFloat4,item.KundenShippingBIT1,item.KundenShippingBIT2,item.KundenShippingString14,item.KundenShippingString15,item.KundenShippingString16,item.KundenShippingString17,item.KundenShippingString18,item.KundenShippingString19,item.KundenShippingString20,item.KundenShippingString21,item.KundenShippingString22,item.KundenShippingString23,item.KundenShippingString24,item.KundenShippingString25,item.KundenShippingString26,item.KundenShippingString27,item.KundenShippingString28,item.KundenShippingString29,item.KundenShippingInt5,item.Status,item.KundenShippingFloat5,item.KundenShippingFloat6));				});				showKundenShipping();			}        },        error: function (error) {            console.log(error);        }    });}function showKundenShipping(){	document.getElementById("ShippingName").value = unescape(KundenShippingArr[0].KundenShippingString10);	document.getElementById("ShippingAdresse1").value = unescape(KundenShippingArr[0].KundenShippingString11);	document.getElementById("ShippingAdresse2").value = unescape(KundenShippingArr[0].KundenShippingString12);	document.getElementById("ShippingPLZ").value = unescape(KundenShippingArr[0].KundenShippingString13);	document.getElementById("ShippingStadt").value = unescape(KundenShippingArr[0].KundenShippingString14);	if(unescape(KundenShippingArr[0].KundenShippingString15)!="")	document.getElementById("ShippingStaat").value = unescape(KundenShippingArr[0].KundenShippingString15);	else document.getElementById("ShippingStaat").value = "Germany";}function KundenShippingObj(prIDX,frIDX,Datum1,Datum2,Datum3,Datum4,KundenShippingString10,KundenShippingString11,KundenShippingString12,KundenShippingString13,KundenShippingInt1,KundenShippingInt2,KundenShippingInt3,KundenShippingInt4,KundenShippingFloat1,KundenShippingFloat2,KundenShippingFloat3,KundenShippingFloat4,KundenShippingBIT1,KundenShippingBIT2,KundenShippingString14,KundenShippingString15,KundenShippingString16,KundenShippingString17,KundenShippingString18,KundenShippingString19,KundenShippingString20,KundenShippingString21,KundenShippingString22,KundenShippingString23,KundenShippingString24,KundenShippingString25,KundenShippingString26,KundenShippingString27,KundenShippingString28,KundenShippingString29,KundenShippingInt5,Status,KundenShippingFloat5,KundenShippingFloat6){   this.prIDX=prIDX;   this.frIDX=frIDX;   this.Datum1=Datum1;   this.Datum2=Datum2;   this.Datum3=Datum3;   this.Datum4=Datum4;   this.KundenShippingString10=KundenShippingString10;   this.KundenShippingString11=KundenShippingString11;   this.KundenShippingString12=KundenShippingString12;   this.KundenShippingString13=KundenShippingString13;   this.KundenShippingInt1=KundenShippingInt1;   this.KundenShippingInt2=KundenShippingInt2;   this.KundenShippingInt3=KundenShippingInt3;   this.KundenShippingInt4=KundenShippingInt4;   this.KundenShippingFloat1=KundenShippingFloat1;   this.KundenShippingFloat2=KundenShippingFloat2;   this.KundenShippingFloat3=KundenShippingFloat3;   this.KundenShippingFloat4=KundenShippingFloat4;   this.KundenShippingBIT1=KundenShippingBIT1;   this.KundenShippingBIT2=KundenShippingBIT2;   this.KundenShippingString14=KundenShippingString14;   this.KundenShippingString15=KundenShippingString15;   this.KundenShippingString16=KundenShippingString16;   this.KundenShippingString17=KundenShippingString17;   this.KundenShippingString18=KundenShippingString18;   this.KundenShippingString19=KundenShippingString19;   this.KundenShippingString20=KundenShippingString20;   this.KundenShippingString21=KundenShippingString21;   this.KundenShippingString22=KundenShippingString22;   this.KundenShippingString23=KundenShippingString23;   this.KundenShippingString24=KundenShippingString24;   this.KundenShippingString25=KundenShippingString25;   this.KundenShippingString26=KundenShippingString26;   this.KundenShippingString27=KundenShippingString27;   this.KundenShippingString28=KundenShippingString28;   this.KundenShippingString29=KundenShippingString29;   this.KundenShippingInt5=KundenShippingInt5;   this.Status=Status;   this.KundenShippingFloat5=KundenShippingFloat5;   this.KundenShippingFloat6=KundenShippingFloat6;}var KundenBillingArr = new Array();function searchKundenBilling(){	KundenBillingArr = new Array();	$.ajax({        type: "POST",        url: "/frontend_konto_5",        contentType: 'application/x-www-form-urlencoded',        xhrFields: { withCredentials: true },        cache: false,        data: {            "UserID": UserID        },        success: function (response) {			if(response.length>0){				response.forEach(function (item) {					KundenBillingArr.push(new KundenBillingObj(item.prIDX,item.frIDX,item.Datum1,item.Datum2,item.Datum3,item.Datum4,item.KundenBillingString10,item.KundenBillingString11,item.KundenBillingString12,item.KundenBillingString13,item.KundenBillingInt1,item.KundenBillingInt2,item.KundenBillingInt3,item.KundenBillingInt4,item.KundenBillingFloat1,item.KundenBillingFloat2,item.KundenBillingFloat3,item.KundenBillingFloat4,item.KundenBillingBIT1,item.KundenBillingBIT2,item.KundenBillingString14,item.KundenBillingString15,item.KundenBillingString16,item.KundenBillingString17,item.KundenBillingString18,item.KundenBillingString19,item.KundenBillingString20,item.KundenBillingString21,item.KundenBillingString22,item.KundenBillingString23,item.KundenBillingString24,item.KundenBillingString25,item.KundenBillingString26,item.KundenBillingString27,item.KundenBillingString28,item.KundenBillingString29,item.KundenBillingInt5,item.Status,item.KundenBillingFloat5,item.KundenBillingFloat6));				});				showKundenBilling();			}        },        error: function (error) {            console.log(error);        }    });}function showKundenBilling(){	document.getElementById("BillingName").value = unescape(KundenBillingArr[0].KundenBillingString10);	document.getElementById("BillingAdresse1").value = unescape(KundenBillingArr[0].KundenBillingString11);	document.getElementById("BillingAdresse2").value = unescape(KundenBillingArr[0].KundenBillingString12);	document.getElementById("BillingPLZ").value = unescape(KundenBillingArr[0].KundenBillingString13);	document.getElementById("BillingStadt").value = unescape(KundenBillingArr[0].KundenBillingString14);	document.getElementById("BillingStaat").value = unescape(KundenBillingArr[0].KundenBillingString15);	if(unescape(KundenBillingArr[0].KundenBillingString15)!="")	document.getElementById("BillingStaat").value = unescape(KundenBillingArr[0].KundenBillingString15);	else document.getElementById("BillingStaat").value = "Germany";}function KundenBillingObj(prIDX,frIDX,Datum1,Datum2,Datum3,Datum4,KundenBillingString10,KundenBillingString11,KundenBillingString12,KundenBillingString13,KundenBillingInt1,KundenBillingInt2,KundenBillingInt3,KundenBillingInt4,KundenBillingFloat1,KundenBillingFloat2,KundenBillingFloat3,KundenBillingFloat4,KundenBillingBIT1,KundenBillingBIT2,KundenBillingString14,KundenBillingString15,KundenBillingString16,KundenBillingString17,KundenBillingString18,KundenBillingString19,KundenBillingString20,KundenBillingString21,KundenBillingString22,KundenBillingString23,KundenBillingString24,KundenBillingString25,KundenBillingString26,KundenBillingString27,KundenBillingString28,KundenBillingString29,KundenBillingInt5,Status,KundenBillingFloat5,KundenBillingFloat6){   this.prIDX=prIDX;   this.frIDX=frIDX;   this.Datum1=Datum1;   this.Datum2=Datum2;   this.Datum3=Datum3;   this.Datum4=Datum4;   this.KundenBillingString10=KundenBillingString10;   this.KundenBillingString11=KundenBillingString11;   this.KundenBillingString12=KundenBillingString12;   this.KundenBillingString13=KundenBillingString13;   this.KundenBillingInt1=KundenBillingInt1;   this.KundenBillingInt2=KundenBillingInt2;   this.KundenBillingInt3=KundenBillingInt3;   this.KundenBillingInt4=KundenBillingInt4;   this.KundenBillingFloat1=KundenBillingFloat1;   this.KundenBillingFloat2=KundenBillingFloat2;   this.KundenBillingFloat3=KundenBillingFloat3;   this.KundenBillingFloat4=KundenBillingFloat4;   this.KundenBillingBIT1=KundenBillingBIT1;   this.KundenBillingBIT2=KundenBillingBIT2;   this.KundenBillingString14=KundenBillingString14;   this.KundenBillingString15=KundenBillingString15;   this.KundenBillingString16=KundenBillingString16;   this.KundenBillingString17=KundenBillingString17;   this.KundenBillingString18=KundenBillingString18;   this.KundenBillingString19=KundenBillingString19;   this.KundenBillingString20=KundenBillingString20;   this.KundenBillingString21=KundenBillingString21;   this.KundenBillingString22=KundenBillingString22;   this.KundenBillingString23=KundenBillingString23;   this.KundenBillingString24=KundenBillingString24;   this.KundenBillingString25=KundenBillingString25;   this.KundenBillingString26=KundenBillingString26;   this.KundenBillingString27=KundenBillingString27;   this.KundenBillingString28=KundenBillingString28;   this.KundenBillingString29=KundenBillingString29;   this.KundenBillingInt5=KundenBillingInt5;   this.Status=Status;   this.KundenBillingFloat5=KundenBillingFloat5;   this.KundenBillingFloat6=KundenBillingFloat6;}function saveBestellung(){		$.ajax({		type: "POST",		url: "/frontend_kasse_9",		contentType: 'application/x-www-form-urlencoded',		async: false, 		data: {			 "EinkaufswagenArr": JSON.stringify(EinkaufswagenArr)		},		success: function (response) {			var bool = true;			for(var i=0; i<response.length; i++){				for(var j=0; j<EinkaufswagenArr.length; j++){					if(response[i].LagerInt1==EinkaufswagenArr[j].EinkaufswagenInt4){						if(response[i].lagerCount<EinkaufswagenArr[j].EinkaufswagenInt3){							switch (lang) {								case "en": alert("Only "+response[i].lagerCount+" units of "+unescape(EinkaufswagenArr[j].EinkaufswagenString2)+" in stock!"); break;								case "de": alert("Nur noch "+response[i].lagerCount+" Stück von "+unescape(EinkaufswagenArr[j].EinkaufswagenString3)+" auf Lager!"); break;								case "fr": alert("Il ne reste que "+response[i].lagerCount+" unités du "+unescape(EinkaufswagenArr[j].EinkaufswagenString4)+" en stock !"); break;								case "cn": alert(""+unescape(EinkaufswagenArr[j].EinkaufswagenString5)+"的库存只有"+response[i].lagerCount+"个！"); break;							}							bool = false;						}						break;					}				}			}						if(bool) saveBestellungDetail();		}	});	}function saveBestellungDetail(){		if(document.getElementById("ShippingName").value=="" || 	   document.getElementById("ShippingAdresse1").value=="" || 	   document.getElementById("ShippingPLZ").value=="" || 	   document.getElementById("ShippingStadt").value=="" || 	   document.getElementById("ShippingStaat").value==""){		switch (lang) {			case "en": alert("Please enter the full address!"); break;			case "de": alert("Bitte geben Sie die vollständige Adresse ein!"); break;			case "fr": alert("Veuillez saisir l'adresse complète !"); break;			case "cn": alert("请输入完整的地址！"); break;		}	}else if(UserID==0 && VorlaufigUserID!="" && VorlaufigKaufwagenArr.length>0 && !isValidEmail(String(document.getElementById("EmailInput").value))){		switch (lang) {			case "en": alert("Please enter a valid email address!"); break;			case "de": alert("Bitte geben Sie die richtige E-Mail-Adresse ein!"); break;			case "fr": alert("Veuillez saisir une adresse e-mail valide !"); break;			case "cn": alert("请输入有效的电子邮件地址！"); break;		}	}else{		document.getElementById("goToCheckoutButton").setAttribute("disabled","disabled");				if(KundenShippingArr.length>0){			KundenShippingArr[0].KundenShippingString10 = escape(document.getElementById("ShippingName").value);			KundenShippingArr[0].KundenShippingString11 = escape(document.getElementById("ShippingAdresse1").value);			KundenShippingArr[0].KundenShippingString12 = escape(document.getElementById("ShippingAdresse2").value);			KundenShippingArr[0].KundenShippingString13 = escape(document.getElementById("ShippingPLZ").value);			KundenShippingArr[0].KundenShippingString14 = escape(document.getElementById("ShippingStadt").value);			KundenShippingArr[0].KundenShippingString15 = escape(document.getElementById("ShippingStaat").value);		}else{			KundenShippingArr.push(new KundenShippingObj());			KundenShippingArr[KundenShippingArr.length-1].KundenShippingString10 = escape(document.getElementById("ShippingName").value);			KundenShippingArr[KundenShippingArr.length-1].KundenShippingString11 = escape(document.getElementById("ShippingAdresse1").value);			KundenShippingArr[KundenShippingArr.length-1].KundenShippingString12 = escape(document.getElementById("ShippingAdresse2").value);			KundenShippingArr[KundenShippingArr.length-1].KundenShippingString13 = escape(document.getElementById("ShippingPLZ").value);			KundenShippingArr[KundenShippingArr.length-1].KundenShippingString14 = escape(document.getElementById("ShippingStadt").value);			KundenShippingArr[KundenShippingArr.length-1].KundenShippingString15 = escape(document.getElementById("ShippingStaat").value);		}				if(document.getElementById("AdresseCheckbox").checked && KundenBillingArr.length>0){			KundenBillingArr[0].KundenBillingString10 = escape(document.getElementById("ShippingName").value);			KundenBillingArr[0].KundenBillingString11 = escape(document.getElementById("ShippingAdresse1").value);			KundenBillingArr[0].KundenBillingString12 = escape(document.getElementById("ShippingAdresse2").value);			KundenBillingArr[0].KundenBillingString13 = escape(document.getElementById("ShippingPLZ").value);			KundenBillingArr[0].KundenBillingString14 = escape(document.getElementById("ShippingStadt").value);			KundenBillingArr[0].KundenBillingString15 = escape(document.getElementById("ShippingStaat").value);			KundenBillingArr[0].KundenBillingString16 = escape(Email);		}else if(KundenBillingArr.length>0){			KundenBillingArr[0].KundenBillingString10 = escape(document.getElementById("BillingName").value);			KundenBillingArr[0].KundenBillingString11 = escape(document.getElementById("BillingAdresse1").value);			KundenBillingArr[0].KundenBillingString12 = escape(document.getElementById("BillingAdresse2").value);			KundenBillingArr[0].KundenBillingString13 = escape(document.getElementById("BillingPLZ").value);			KundenBillingArr[0].KundenBillingString14 = escape(document.getElementById("BillingStadt").value);			KundenBillingArr[0].KundenBillingString15 = escape(document.getElementById("BillingStaat").value);			KundenBillingArr[0].KundenBillingString16 = escape(Email);		}else if(document.getElementById("AdresseCheckbox").checked){			KundenBillingArr.push(new KundenBillingObj());			KundenBillingArr[KundenBillingArr.length-1].KundenBillingString10 = escape(document.getElementById("ShippingName").value);			KundenBillingArr[KundenBillingArr.length-1].KundenBillingString11 = escape(document.getElementById("ShippingAdresse1").value);			KundenBillingArr[KundenBillingArr.length-1].KundenBillingString12 = escape(document.getElementById("ShippingAdresse2").value);			KundenBillingArr[KundenBillingArr.length-1].KundenBillingString13 = escape(document.getElementById("ShippingPLZ").value);			KundenBillingArr[KundenBillingArr.length-1].KundenBillingString14 = escape(document.getElementById("ShippingStadt").value);			KundenBillingArr[KundenBillingArr.length-1].KundenBillingString15 = escape(document.getElementById("ShippingStaat").value);			KundenBillingArr[KundenBillingArr.length-1].KundenBillingString16 = escape(Email);		}else{			KundenBillingArr.push(new KundenBillingObj());			KundenBillingArr[KundenBillingArr.length-1].KundenBillingString10 = escape(document.getElementById("BillingName").value);			KundenBillingArr[KundenBillingArr.length-1].KundenBillingString11 = escape(document.getElementById("BillingAdresse1").value);			KundenBillingArr[KundenBillingArr.length-1].KundenBillingString12 = escape(document.getElementById("BillingAdresse2").value);			KundenBillingArr[KundenBillingArr.length-1].KundenBillingString13 = escape(document.getElementById("BillingPLZ").value);			KundenBillingArr[KundenBillingArr.length-1].KundenBillingString14 = escape(document.getElementById("BillingStadt").value);			KundenBillingArr[KundenBillingArr.length-1].KundenBillingString15 = escape(document.getElementById("BillingStaat").value);			KundenBillingArr[KundenBillingArr.length-1].KundenBillingString16 = escape(Email);		}				for(var i=0; i<EinkaufswagenArr.length; i++){			var AngebotPreis = parseFloat(EinkaufswagenArr[i].EinkaufswagenFloat1);				if(EinkaufswagenArr[i].EinkaufswagenFloat2>0) AngebotPreis = parseFloat(EinkaufswagenArr[i].EinkaufswagenFloat2);							EinkaufswagenArr[i].EinkaufswagenString28 = String(EinkaufswagenArr[i].EinkaufswagenString28);			EinkaufswagenArr[i].EinkaufswagenFloat1 = parseFloat(parseFloat(AngebotPreis).toFixed(2));			EinkaufswagenArr[i].EinkaufswagenFloat2 = parseFloat(parseFloat(parseFloat(AngebotPreis)*parseInt(EinkaufswagenArr[i].EinkaufswagenInt3)).toFixed(2));		}				//将临时客户信息记录在Kunden数据库里		if(UserID==0) saveVorlaufigUserDaten();		setTimeout(function(){			//document.querySelector('.loading-gif').style.display = 'none';			showPaymentButton();		},500);	}}function saveVorlaufigUserDaten(){	var KundenString10 = String(VorlaufigUserID);	var KundenString11 = String(document.getElementById("EmailInput").value);	var KundenString13 = escape(escape(document.getElementById("ShippingName").value));		$.ajax({        type: "POST",        url: "/frontend_kasse_7",        contentType: 'application/x-www-form-urlencoded',        xhrFields: { withCredentials: true },        cache: false,        data: {            "KundenString10": KundenString10,			"KundenString11": KundenString11,			"KundenString13": KundenString13,        },        success: function (response) {			 UserID = parseInt(response);			 oneKunden = new KundenObj();			 oneKunden.prIDX = parseInt(response);			 oneKunden.KundenString10 = KundenString10;			 oneKunden.KundenString11 = KundenString11;			 oneKunden.KundenString13 = KundenString13;        },        error: function (error) {            console.log(error);        }    });}function showPaymentButton(){	setTimeout(function(){		document.getElementById('PaypmentLi1').style.display = 'none';				//Paypal支付		if(document.getElementById('flush-heading1-radio').checked){			document.getElementById('PaypmentLi2').style.display = 'block';						itemsTotal = new itemsTotalObj();			itemsTotal.value = parseFloat(parseFloat(globalSumme-setGlobalRabatteSum()-globalCoupon).toFixed(2));			itemsTotal.currency_code = 'EUR';			itemsArr = getPaypalItemArr();			purchaseUnits = new purchaseUnitsObj();			purchaseUnits.description = "Laaver Invoice";			purchaseUnits.invoice_number = "";			purchaseUnits.custom = unescape(KundenShippingArr[0].KundenShippingString10);			purchaseUnits.shipping = {				name: {					full_name: unescape(KundenShippingArr[0].KundenShippingString10)				},				address: {					address_line_1: unescape(KundenShippingArr[0].KundenShippingString11),					admin_area_2: unescape(KundenShippingArr[0].KundenShippingString14),					postal_code: unescape(KundenShippingArr[0].KundenShippingString13),					country_code: getCountryCodeByName(KundenShippingArr[0].KundenShippingString15)				}			};			if(globalCoupon>0 || globalRabatte>0){				purchaseUnits.amount = {					value: parseFloat(parseFloat(globalSumme-setGlobalRabatteSum()-globalCoupon).toFixed(2)), 					//必须和item_total的金额一致，并且是所有产品数量和价格总和					currency_code: 'EUR',					breakdown: {						item_total: itemsTotal,						discount: {							currency_code: 'EUR',							value: parseFloat(parseFloat(setGlobalRabatteSum()+globalCoupon).toFixed(2)) // 折扣金额						}					}				};			}else{				purchaseUnits.amount = {					value: parseFloat(parseFloat(globalSumme-setGlobalRabatteSum()-globalCoupon).toFixed(2)), 					//必须和item_total的金额一致，并且是所有产品数量和价格总和					currency_code: 'EUR',					breakdown: {						item_total: itemsTotal					}				};			}			purchaseUnits.items = itemsArr;					//Stripe支付		}else if(document.getElementById('flush-heading2-radio').checked){					StripeOrderObj = new StripeObj();			StripeOrderObj.amount = parseFloat(parseFloat(parseFloat(globalSumme-setGlobalRabatteSum()-globalCoupon).toFixed(2))*100);			StripeOrderObj.description = "Laaver Invoice";			StripeOrderObj.invoice_number = "";			StripeOrderObj.customer_name = unescape(KundenShippingArr[0].KundenShippingString10);			StripeOrderObj.customer_address = unescape(KundenShippingArr[0].KundenShippingString11+", "+KundenShippingArr[0].KundenShippingString13+" "+KundenShippingArr[0].KundenShippingString14+", "+KundenShippingArr[0].KundenShippingString15);			StripeOrderObj.products = getStripeItemArr();						if(KundenBillingArr.length>0)			StripeOrderObj.billing_details = {												"address": {													"city": unescape(KundenBillingArr[0].KundenBillingString14),													"country": unescape(KundenBillingArr[0].KundenBillingString15),													"line1": unescape(KundenBillingArr[0].KundenBillingString11),													"line2": "",													"postal_code": unescape(KundenBillingArr[0].KundenBillingString13),													"state": getCountryCodeByName(KundenBillingArr[0].KundenBillingString15)												},												"email": unescape(KundenBillingArr[0].KundenBillingString16),												"name": unescape(KundenBillingArr[0].KundenBillingString10),												"phone": ""											 };			else 			StripeOrderObj.billing_details = {												"address": {													"city": unescape(KundenShippingArr[0].KundenBillingString14),													"country": unescape(KundenShippingArr[0].KundenBillingString15),													"line1": unescape(KundenShippingArr[0].KundenBillingString11),													"line2": "",													"postal_code": unescape(KundenShippingArr[0].KundenBillingString13),													"state": getCountryCodeByName(KundenShippingArr[0].KundenBillingString15)												},												"email": "",												"name": unescape(KundenShippingArr[0].KundenBillingString10),												"phone": ""											 };											 						checkStripeID();			document.getElementById('PaypmentLi3').style.display = 'block';					//Rechnung支付		}else if(document.getElementById('flush-heading3-radio').checked){			saveBestellungFunc();		}	},500);}function saveBestellungFunc(){ 		var RechnungType = "";	if(document.getElementById("flush-heading1-radio").checked) RechnungType = "Paypal";	else if(document.getElementById("flush-heading2-radio").checked) RechnungType = "Stripe";	else if(document.getElementById("flush-heading3-radio").checked) RechnungType = "Rechnung";		$.ajax({		 type: "POST",         url: "/frontend_kasse_4",         data:{"opt":4,			"UserID": UserID,			"Email": Email,			"RabatteBeschreibung": String(GutscheincodeString),			"RechnungType": RechnungType,			"globalSumme": parseFloat(globalSumme.toFixed(2)),			"globalCoupon": parseFloat(globalCoupon.toFixed(2)),			"globalRabatte": parseFloat(setGlobalRabatteSum().toFixed(2)),            "oneKundenBilling": JSON.stringify(KundenBillingArr[0]),			"oneKundenShipping": JSON.stringify(KundenShippingArr[0]),			"EinkaufswagenArr": JSON.stringify(EinkaufswagenArr),			"PaymentBetragObj": JSON.stringify(PaymentBetragObj),			"oneKunden": JSON.stringify(oneKunden),         },         cache: false,         success: function (response) {						response.forEach(function (item) {				OneBestellung = new BestellungObj(item.prIDX,item.frIDX,item.Datum1,item.Datum2,item.Datum3,item.Datum4,item.BestellungString10,item.BestellungString11,item.BestellungString12,item.BestellungString13,item.BestellungInt1,item.BestellungInt2,item.BestellungInt3,item.BestellungInt4,item.BestellungFloat1,item.BestellungFloat2,item.BestellungFloat3,item.BestellungFloat4,item.BestellungBIT1,item.BestellungBIT2,item.BestellungString14,item.BestellungString15,item.BestellungString16,item.BestellungString17,item.BestellungString18,item.BestellungString19,item.BestellungString20,item.BestellungString21,item.BestellungString22,item.BestellungString23,item.BestellungString24,item.BestellungString25,item.BestellungString26,item.BestellungString27,item.BestellungString28,item.BestellungString29,item.BestellungInt5,item.Status,item.BestellungFloat5,item.BestellungFloat6);			});			showBestellungDetail();         },         error: function (response) {            console.log(response);         }   });}/** Stripe Beriech Beginvar stripe = Stripe('pk_live_51QbgeVDR2CoDb7bZPQNJskFreFjEsunPW8pWePcdGOmGHvOSqHkoxa1i6SUv1R1XmEuyHVYBQYCgGtrMcZtggapw00fDPcQUvD'); //此为公钥var elements = stripe.elements();var style = {	base: {		color: "#32325d",	}};var card = elements.create("card", { style: style });card.mount("#card-element");function checkStripeID() {	$.ajax({		type: "POST",		  url: "/stripe-payment-intent",		  contentType: 'application/x-www-form-urlencoded', 		  xhrFields: { withCredentials: true }, 		  cache: false,		  data: {			  StripeOrderObj: JSON.stringify(StripeOrderObj)		  },		success: function (response) {			if (response.success) {				//console.log('Payment Intent created:', response);				document.getElementById('payment-form').style.display = 'block';				handlePayment(response.clientSecret);			} else {				throw new Error(response.message);			}		},		error: function (xhr) {			console.error('Error:', xhr.responseText);		}	});}function handlePayment(clientSecret) {		var form = document.getElementById('payment-form');	form.addEventListener('submit', function(event) {		event.preventDefault();		stripe.confirmCardPayment(clientSecret, {			payment_method: {				card: card,				billing_details: {					name: StripeOrderObj.customer_name				}			}		}).then(function(result) {			if (result.error) {				console.log(result.error.message);				alert('Bezahlung fehlgeschlagen: ' + result.error.message);			} else {				if (result.paymentIntent.status === 'succeeded') {					PaymentBetragObj = new BestellungBetragObj();					PaymentBetragObj.BestellungBetragString10 = "Stripe";					PaymentBetragObj.BestellungBetragString11 = ""; 					PaymentBetragObj.BestellungBetragString12 = String(result.paymentIntent.payment_method); 					PaymentBetragObj.BestellungBetragString13 = ""; 					PaymentBetragObj.BestellungBetragString14 = ""; 					PaymentBetragObj.BestellungBetragString15 = ""; 					PaymentBetragObj.BestellungBetragString16 = String(result.paymentIntent.id); 					PaymentBetragObj.BestellungBetragString17 = String(result.paymentIntent.status);					PaymentBetragObj.BestellungBetragString18 = String(result.paymentIntent.currency);					PaymentBetragObj.BestellungBetragFloat1 = parseFloat(parseFloat(result.paymentIntent.amount/100).toFixed(2));							setTimeout(function(){						$.ajax({							type: "POST",							  url: "/stripe-payment-fee",							  contentType: 'application/x-www-form-urlencoded', 							  xhrFields: { withCredentials: true }, 							  cache: false,							  data: {								  paymentIntentId: String(result.paymentIntent.id)							  },							success: function (response) {								if (response.success) {									PaymentBetragObj.BestellungBetragFloat2 = parseFloat(parseFloat(response.balanceTransaction.fee/100).toFixed(2));										PaymentBetragObj.BestellungBetragFloat3 = parseFloat(PaymentBetragObj.BestellungBetragFloat1-PaymentBetragObj.BestellungBetragFloat2);															}else{									PaymentBetragObj.BestellungBetragFloat2 = 0;									PaymentBetragObj.BestellungBetragFloat3 = parseFloat(PaymentBetragObj.BestellungBetragFloat1);								}																saveBestellungFunc();							},							error: function (xhr) {								console.error('Error:', xhr.responseText);							}						});					},2500);													}			}		});	});}		function StripeObj(amount,description,invoice_number,customer_name,customer_address,products,billing_details){   this.amount=amount;   this.description=description;   this.invoice_number=invoice_number;   this.customer_name=customer_name;   this.customer_address=customer_address;   this.products=products;   this.billing_details=billing_details;}Stripe Beriech End **/    /** Paypal Beriech Beginvar purchaseUnits = new purchaseUnitsObj();var itemsTotal = new itemsTotalObj();var itemsArr = new Array();     paypal.Buttons({	createOrder: function(data, actions) {		return new Promise(function(resolve, reject) {			$.ajax({				type: "POST",				url: "/create-paypal-order",				contentType: 'application/x-www-form-urlencoded', 				xhrFields: { withCredentials: true }, 				cache: false,				data: {					purchaseUnits: JSON.stringify(purchaseUnits)				},				success: function (response) {					if (response.id) {						resolve(response.id); // 当成功获取订单ID时，使用resolve返回订单ID					} else {						reject('No order ID returned'); // 如果没有订单ID，使用reject返回错误					}				},				error: function (jqXHR, textStatus, errorThrown) {					reject(errorThrown);				}			});		});	},	onApprove: function(data, actions) {		$.ajax({			type: "POST",			url: "/capture-paypal-order",			contentType: 'application/x-www-form-urlencoded', 			xhrFields: { withCredentials: true }, 			cache: false,			data: {                       				orderId: String(data.orderID)			},			success: function(response) {				PaymentBetragObj = new BestellungBetragObj();				PaymentBetragObj.BestellungBetragString10 = "Paypal";				PaymentBetragObj.BestellungBetragString11 = String(response.payer.email_address); 				PaymentBetragObj.BestellungBetragString12 = String(response.payer.payer_id); 				PaymentBetragObj.BestellungBetragString13 = String(response.payer.name.given_name); 				PaymentBetragObj.BestellungBetragString14 = String(response.payer.name.surname); 				PaymentBetragObj.BestellungBetragString15 = String(response.payer.address.country_code); 				PaymentBetragObj.BestellungBetragString16 = String(response.purchase_units[0].payments.captures[0].id); 				PaymentBetragObj.BestellungBetragString17 = String(response.purchase_units[0].payments.captures[0].status);				PaymentBetragObj.BestellungBetragString18 = String(response.purchase_units[0].payments.captures[0].amount.currency_code);				PaymentBetragObj.BestellungBetragFloat1 = 				parseFloat(response.purchase_units[0].payments.captures[0].seller_receivable_breakdown.gross_amount.value);				PaymentBetragObj.BestellungBetragFloat2 = 				parseFloat(response.purchase_units[0].payments.captures[0].seller_receivable_breakdown.paypal_fee.value);				PaymentBetragObj.BestellungBetragFloat3 = 				parseFloat(response.purchase_units[0].payments.captures[0].seller_receivable_breakdown.net_amount.value);								saveBestellungFunc();			}		});	}}).render('#paypal-button-container');function purchaseUnitsObj(description,invoice_number,custom,shipping_address,amount,items){	this.description=description;	this.invoice_number=invoice_number;	this.custom=custom;	this.shipping_address=shipping_address;	this.amount=amount;	this.items=items;}function itemsObj(name,unit_amount,quantity,sku){	this.name=name;	this.unit_amount=unit_amount;	this.quantity=quantity;	this.sku=sku;}Paypal Beriech End **/function itemsTotalObj(value,currency_code){	this.value=value;	this.currency_code=currency_code;}var OneBestellung = new BestellungObj();var OneBillingAdresseAllgemein = new BestellungBillingObj();var OneShippingAdresseAllgemein = new BestellungShippingObj();var OneArtikelAllgemein = new Array();var OneBetragAllgemein = new Array();function showBestellungDetail(){	$.ajax({        type: "POST",        url: "/frontend_kasse_5",        contentType: 'application/x-www-form-urlencoded',        xhrFields: { withCredentials: true },        cache: false,        data: {            "prIDX": OneBestellung.prIDX        },        success: function (response) {            initKundenBestellungDetail(response);        },        error: function (error) {            console.log(error);        }    });}function initKundenBestellungDetail(resXML){	var xmlDoc = resXML.documentElement;   var prIDX,frIDX,Datum1,Datum2,Datum3,Datum4,BestellungBillingString10,BestellungBillingString11,BestellungBillingString12,BestellungBillingString13,BestellungBillingInt1,BestellungBillingInt2,BestellungBillingInt3,BestellungBillingInt4,BestellungBillingFloat1,BestellungBillingFloat2,BestellungBillingFloat3,BestellungBillingFloat4,BestellungBillingBIT1,BestellungBillingBIT2,BestellungBillingString14,BestellungBillingString15,BestellungBillingString16,BestellungBillingString17,BestellungBillingString18,BestellungBillingString19,BestellungBillingString20,BestellungBillingString21,BestellungBillingString22,BestellungBillingString23,BestellungBillingString24,BestellungBillingString25,BestellungBillingString26,BestellungBillingString27,BestellungBillingString28,BestellungBillingString29,BestellungBillingInt5,Status,BestellungBillingFloat5,BestellungBillingFloat6;   for(var j=0; j<xmlDoc.getElementsByTagName("Billing").length; j++){   prIDX=0;frIDX=0;Datum1="";Datum2="";Datum3="";Datum4="";BestellungBillingString10="";BestellungBillingString11="";BestellungBillingString12="";BestellungBillingString13="";BestellungBillingInt1=0;BestellungBillingInt2=0;BestellungBillingInt3=0;BestellungBillingInt4=0;BestellungBillingFloat1=0;BestellungBillingFloat2=0;BestellungBillingFloat3=0;BestellungBillingFloat4=0;BestellungBillingBIT1=0;BestellungBillingBIT2=0;BestellungBillingString14="";BestellungBillingString15="";BestellungBillingString16="";BestellungBillingString17="";BestellungBillingString18="";BestellungBillingString19="";BestellungBillingString20="";BestellungBillingString21="";BestellungBillingString22="";BestellungBillingString23="";BestellungBillingString24="";BestellungBillingString25="";BestellungBillingString26="";BestellungBillingString27="";BestellungBillingString28="";BestellungBillingString29="";BestellungBillingInt5=0;Status=0;BestellungBillingFloat5=0;BestellungBillingFloat6=0;   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("prIDX")[0].childNodes[0]) != "undefined")   prIDX=parseInt(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("prIDX")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("frIDX")[0].childNodes[0]) != "undefined")   frIDX=parseInt(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("frIDX")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("Datum1")[0].childNodes[0]) != "undefined")   Datum1=String(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("Datum1")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("Datum2")[0].childNodes[0]) != "undefined")   Datum2=String(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("Datum2")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("Datum3")[0].childNodes[0]) != "undefined")   Datum3=String(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("Datum3")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("Datum4")[0].childNodes[0]) != "undefined")   Datum4=String(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("Datum4")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString10")[0].childNodes[0]) != "undefined")   BestellungBillingString10=String(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString10")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString11")[0].childNodes[0]) != "undefined")   BestellungBillingString11=String(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString11")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString12")[0].childNodes[0]) != "undefined")   BestellungBillingString12=String(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString12")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString13")[0].childNodes[0]) != "undefined")   BestellungBillingString13=String(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString13")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingInt1")[0].childNodes[0]) != "undefined")   BestellungBillingInt1=parseInt(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingInt1")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingInt2")[0].childNodes[0]) != "undefined")   BestellungBillingInt2=parseInt(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingInt2")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingInt3")[0].childNodes[0]) != "undefined")   BestellungBillingInt3=parseInt(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingInt3")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingInt4")[0].childNodes[0]) != "undefined")   BestellungBillingInt4=parseInt(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingInt4")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingFloat1")[0].childNodes[0]) != "undefined")   BestellungBillingFloat1=parseFloat(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingFloat1")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingFloat2")[0].childNodes[0]) != "undefined")   BestellungBillingFloat2=parseFloat(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingFloat2")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingFloat3")[0].childNodes[0]) != "undefined")   BestellungBillingFloat3=parseFloat(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingFloat3")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingFloat4")[0].childNodes[0]) != "undefined")   BestellungBillingFloat4=parseFloat(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingFloat4")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingBIT1")[0].childNodes[0]) != "undefined")   if(String(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingBIT1")[0].childNodes[0].nodeValue).toLowerCase()=="true")BestellungBillingBIT1=1;   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingBIT2")[0].childNodes[0]) != "undefined")   if(String(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingBIT2")[0].childNodes[0].nodeValue).toLowerCase()=="true")BestellungBillingBIT2=1;   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString14")[0].childNodes[0]) != "undefined")   BestellungBillingString14=String(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString14")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString15")[0].childNodes[0]) != "undefined")   BestellungBillingString15=String(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString15")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString16")[0].childNodes[0]) != "undefined")   BestellungBillingString16=String(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString16")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString17")[0].childNodes[0]) != "undefined")   BestellungBillingString17=String(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString17")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString18")[0].childNodes[0]) != "undefined")   BestellungBillingString18=String(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString18")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString19")[0].childNodes[0]) != "undefined")   BestellungBillingString19=String(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString19")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString20")[0].childNodes[0]) != "undefined")   BestellungBillingString20=String(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString20")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString21")[0].childNodes[0]) != "undefined")   BestellungBillingString21=String(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString21")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString22")[0].childNodes[0]) != "undefined")   BestellungBillingString22=String(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString22")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString23")[0].childNodes[0]) != "undefined")   BestellungBillingString23=String(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString23")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString24")[0].childNodes[0]) != "undefined")   BestellungBillingString24=String(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString24")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString25")[0].childNodes[0]) != "undefined")   BestellungBillingString25=String(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString25")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString26")[0].childNodes[0]) != "undefined")   BestellungBillingString26=String(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString26")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString27")[0].childNodes[0]) != "undefined")   BestellungBillingString27=String(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString27")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString28")[0].childNodes[0]) != "undefined")   BestellungBillingString28=String(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString28")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString29")[0].childNodes[0]) != "undefined")   BestellungBillingString29=String(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingString29")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingInt5")[0].childNodes[0]) != "undefined")   BestellungBillingInt5=parseInt(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingInt5")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("Status")[0].childNodes[0]) != "undefined")   Status=parseInt(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("Status")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingFloat5")[0].childNodes[0]) != "undefined")   BestellungBillingFloat5=parseFloat(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingFloat5")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingFloat6")[0].childNodes[0]) != "undefined")   BestellungBillingFloat6=parseFloat(xmlDoc.getElementsByTagName("Billing")[j].getElementsByTagName("BestellungBillingFloat6")[0].childNodes[0].nodeValue);   OneBillingAdresseAllgemein = new BestellungBillingObj(prIDX,frIDX,Datum1,Datum2,Datum3,Datum4,BestellungBillingString10,BestellungBillingString11,BestellungBillingString12,BestellungBillingString13,BestellungBillingInt1,BestellungBillingInt2,BestellungBillingInt3,BestellungBillingInt4,BestellungBillingFloat1,BestellungBillingFloat2,BestellungBillingFloat3,BestellungBillingFloat4,BestellungBillingBIT1,BestellungBillingBIT2,BestellungBillingString14,BestellungBillingString15,BestellungBillingString16,BestellungBillingString17,BestellungBillingString18,BestellungBillingString19,BestellungBillingString20,BestellungBillingString21,BestellungBillingString22,BestellungBillingString23,BestellungBillingString24,BestellungBillingString25,BestellungBillingString26,BestellungBillingString27,BestellungBillingString28,BestellungBillingString29,BestellungBillingInt5,Status,BestellungBillingFloat5,BestellungBillingFloat6);   }      var prIDX,frIDX,Datum1,Datum2,Datum3,Datum4,BestellungShippingString10,BestellungShippingString11,BestellungShippingString12,BestellungShippingString13,BestellungShippingInt1,BestellungShippingInt2,BestellungShippingInt3,BestellungShippingInt4,BestellungShippingFloat1,BestellungShippingFloat2,BestellungShippingFloat3,BestellungShippingFloat4,BestellungShippingBIT1,BestellungShippingBIT2,BestellungShippingString14,BestellungShippingString15,BestellungShippingString16,BestellungShippingString17,BestellungShippingString18,BestellungShippingString19,BestellungShippingString20,BestellungShippingString21,BestellungShippingString22,BestellungShippingString23,BestellungShippingString24,BestellungShippingString25,BestellungShippingString26,BestellungShippingString27,BestellungShippingString28,BestellungShippingString29,BestellungShippingInt5,Status,BestellungShippingFloat5,BestellungShippingFloat6;   for(var j=0; j<xmlDoc.getElementsByTagName("Shipping").length; j++){   prIDX=0;frIDX=0;Datum1="";Datum2="";Datum3="";Datum4="";BestellungShippingString10="";BestellungShippingString11="";BestellungShippingString12="";BestellungShippingString13="";BestellungShippingInt1=0;BestellungShippingInt2=0;BestellungShippingInt3=0;BestellungShippingInt4=0;BestellungShippingFloat1=0;BestellungShippingFloat2=0;BestellungShippingFloat3=0;BestellungShippingFloat4=0;BestellungShippingBIT1=0;BestellungShippingBIT2=0;BestellungShippingString14="";BestellungShippingString15="";BestellungShippingString16="";BestellungShippingString17="";BestellungShippingString18="";BestellungShippingString19="";BestellungShippingString20="";BestellungShippingString21="";BestellungShippingString22="";BestellungShippingString23="";BestellungShippingString24="";BestellungShippingString25="";BestellungShippingString26="";BestellungShippingString27="";BestellungShippingString28="";BestellungShippingString29="";BestellungShippingInt5=0;Status=0;BestellungShippingFloat5=0;BestellungShippingFloat6=0;   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("prIDX")[0].childNodes[0]) != "undefined")   prIDX=parseInt(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("prIDX")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("frIDX")[0].childNodes[0]) != "undefined")   frIDX=parseInt(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("frIDX")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("Datum1")[0].childNodes[0]) != "undefined")   Datum1=String(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("Datum1")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("Datum2")[0].childNodes[0]) != "undefined")   Datum2=String(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("Datum2")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("Datum3")[0].childNodes[0]) != "undefined")   Datum3=String(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("Datum3")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("Datum4")[0].childNodes[0]) != "undefined")   Datum4=String(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("Datum4")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString10")[0].childNodes[0]) != "undefined")   BestellungShippingString10=String(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString10")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString11")[0].childNodes[0]) != "undefined")   BestellungShippingString11=String(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString11")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString12")[0].childNodes[0]) != "undefined")   BestellungShippingString12=String(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString12")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString13")[0].childNodes[0]) != "undefined")   BestellungShippingString13=String(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString13")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingInt1")[0].childNodes[0]) != "undefined")   BestellungShippingInt1=parseInt(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingInt1")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingInt2")[0].childNodes[0]) != "undefined")   BestellungShippingInt2=parseInt(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingInt2")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingInt3")[0].childNodes[0]) != "undefined")   BestellungShippingInt3=parseInt(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingInt3")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingInt4")[0].childNodes[0]) != "undefined")   BestellungShippingInt4=parseInt(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingInt4")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingFloat1")[0].childNodes[0]) != "undefined")   BestellungShippingFloat1=parseFloat(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingFloat1")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingFloat2")[0].childNodes[0]) != "undefined")   BestellungShippingFloat2=parseFloat(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingFloat2")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingFloat3")[0].childNodes[0]) != "undefined")   BestellungShippingFloat3=parseFloat(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingFloat3")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingFloat4")[0].childNodes[0]) != "undefined")   BestellungShippingFloat4=parseFloat(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingFloat4")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingBIT1")[0].childNodes[0]) != "undefined")   if(String(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingBIT1")[0].childNodes[0].nodeValue).toLowerCase()=="true")BestellungShippingBIT1=1;   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingBIT2")[0].childNodes[0]) != "undefined")   if(String(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingBIT2")[0].childNodes[0].nodeValue).toLowerCase()=="true")BestellungShippingBIT2=1;   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString14")[0].childNodes[0]) != "undefined")   BestellungShippingString14=String(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString14")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString15")[0].childNodes[0]) != "undefined")   BestellungShippingString15=String(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString15")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString16")[0].childNodes[0]) != "undefined")   BestellungShippingString16=String(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString16")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString17")[0].childNodes[0]) != "undefined")   BestellungShippingString17=String(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString17")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString18")[0].childNodes[0]) != "undefined")   BestellungShippingString18=String(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString18")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString19")[0].childNodes[0]) != "undefined")   BestellungShippingString19=String(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString19")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString20")[0].childNodes[0]) != "undefined")   BestellungShippingString20=String(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString20")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString21")[0].childNodes[0]) != "undefined")   BestellungShippingString21=String(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString21")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString22")[0].childNodes[0]) != "undefined")   BestellungShippingString22=String(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString22")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString23")[0].childNodes[0]) != "undefined")   BestellungShippingString23=String(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString23")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString24")[0].childNodes[0]) != "undefined")   BestellungShippingString24=String(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString24")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString25")[0].childNodes[0]) != "undefined")   BestellungShippingString25=String(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString25")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString26")[0].childNodes[0]) != "undefined")   BestellungShippingString26=String(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString26")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString27")[0].childNodes[0]) != "undefined")   BestellungShippingString27=String(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString27")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString28")[0].childNodes[0]) != "undefined")   BestellungShippingString28=String(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString28")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString29")[0].childNodes[0]) != "undefined")   BestellungShippingString29=String(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingString29")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingInt5")[0].childNodes[0]) != "undefined")   BestellungShippingInt5=parseInt(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingInt5")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("Status")[0].childNodes[0]) != "undefined")   Status=parseInt(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("Status")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingFloat5")[0].childNodes[0]) != "undefined")   BestellungShippingFloat5=parseFloat(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingFloat5")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingFloat6")[0].childNodes[0]) != "undefined")   BestellungShippingFloat6=parseFloat(xmlDoc.getElementsByTagName("Shipping")[j].getElementsByTagName("BestellungShippingFloat6")[0].childNodes[0].nodeValue);   OneShippingAdresseAllgemein = new BestellungShippingObj(prIDX,frIDX,Datum1,Datum2,Datum3,Datum4,BestellungShippingString10,BestellungShippingString11,BestellungShippingString12,BestellungShippingString13,BestellungShippingInt1,BestellungShippingInt2,BestellungShippingInt3,BestellungShippingInt4,BestellungShippingFloat1,BestellungShippingFloat2,BestellungShippingFloat3,BestellungShippingFloat4,BestellungShippingBIT1,BestellungShippingBIT2,BestellungShippingString14,BestellungShippingString15,BestellungShippingString16,BestellungShippingString17,BestellungShippingString18,BestellungShippingString19,BestellungShippingString20,BestellungShippingString21,BestellungShippingString22,BestellungShippingString23,BestellungShippingString24,BestellungShippingString25,BestellungShippingString26,BestellungShippingString27,BestellungShippingString28,BestellungShippingString29,BestellungShippingInt5,Status,BestellungShippingFloat5,BestellungShippingFloat6);   }      var prIDX,frIDX,Datum1,Datum2,Datum3,Datum4,BestellungArtikelString10,BestellungArtikelString11,BestellungArtikelString12,BestellungArtikelString13,BestellungArtikelInt1,BestellungArtikelInt2,BestellungArtikelInt3,BestellungArtikelInt4,BestellungArtikelFloat1,BestellungArtikelFloat2,BestellungArtikelFloat3,BestellungArtikelFloat4,BestellungArtikelBIT1,BestellungArtikelBIT2,BestellungArtikelString14,BestellungArtikelString15,BestellungArtikelString16,BestellungArtikelString17,BestellungArtikelString18,BestellungArtikelString19,BestellungArtikelString20,BestellungArtikelString21,BestellungArtikelString22,BestellungArtikelString23,BestellungArtikelString24,BestellungArtikelString25,BestellungArtikelString26,BestellungArtikelString27,BestellungArtikelString28,BestellungArtikelString29,BestellungArtikelInt5,Status,BestellungArtikelFloat5,BestellungArtikelFloat6,Images;   for(var j=0; j<xmlDoc.getElementsByTagName("Artikel").length; j++){   prIDX=0;frIDX=0;Datum1="";Datum2="";Datum3="";Datum4="";BestellungArtikelString10="";BestellungArtikelString11="";BestellungArtikelString12="";BestellungArtikelString13="";BestellungArtikelInt1=0;BestellungArtikelInt2=0;BestellungArtikelInt3=0;BestellungArtikelInt4=0;BestellungArtikelFloat1=0;BestellungArtikelFloat2=0;BestellungArtikelFloat3=0;BestellungArtikelFloat4=0;BestellungArtikelBIT1=0;BestellungArtikelBIT2=0;BestellungArtikelString14="";BestellungArtikelString15="";BestellungArtikelString16="";BestellungArtikelString17="";BestellungArtikelString18="";BestellungArtikelString19="";BestellungArtikelString20="";BestellungArtikelString21="";BestellungArtikelString22="";BestellungArtikelString23="";BestellungArtikelString24="";BestellungArtikelString25="";BestellungArtikelString26="";BestellungArtikelString27="";BestellungArtikelString28="";BestellungArtikelString29="";BestellungArtikelInt5=0;Status=0;BestellungArtikelFloat5=0;BestellungArtikelFloat6=0;Images="";   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("prIDX")[0].childNodes[0]) != "undefined")   prIDX=parseInt(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("prIDX")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("frIDX")[0].childNodes[0]) != "undefined")   frIDX=parseInt(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("frIDX")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("Datum1")[0].childNodes[0]) != "undefined")   Datum1=String(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("Datum1")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("Datum2")[0].childNodes[0]) != "undefined")   Datum2=String(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("Datum2")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("Datum3")[0].childNodes[0]) != "undefined")   Datum3=String(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("Datum3")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("Datum4")[0].childNodes[0]) != "undefined")   Datum4=String(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("Datum4")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString10")[0].childNodes[0]) != "undefined")   BestellungArtikelString10=String(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString10")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString11")[0].childNodes[0]) != "undefined")   BestellungArtikelString11=String(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString11")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString12")[0].childNodes[0]) != "undefined")   BestellungArtikelString12=String(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString12")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString13")[0].childNodes[0]) != "undefined")   BestellungArtikelString13=String(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString13")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelInt1")[0].childNodes[0]) != "undefined")   BestellungArtikelInt1=parseInt(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelInt1")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelInt2")[0].childNodes[0]) != "undefined")   BestellungArtikelInt2=parseInt(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelInt2")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelInt3")[0].childNodes[0]) != "undefined")   BestellungArtikelInt3=parseInt(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelInt3")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelInt4")[0].childNodes[0]) != "undefined")   BestellungArtikelInt4=parseInt(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelInt4")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelFloat1")[0].childNodes[0]) != "undefined")   BestellungArtikelFloat1=parseFloat(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelFloat1")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelFloat2")[0].childNodes[0]) != "undefined")   BestellungArtikelFloat2=parseFloat(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelFloat2")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelFloat3")[0].childNodes[0]) != "undefined")   BestellungArtikelFloat3=parseFloat(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelFloat3")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelFloat4")[0].childNodes[0]) != "undefined")   BestellungArtikelFloat4=parseFloat(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelFloat4")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelBIT1")[0].childNodes[0]) != "undefined")   if(String(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelBIT1")[0].childNodes[0].nodeValue).toLowerCase()=="true")BestellungArtikelBIT1=1;   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelBIT2")[0].childNodes[0]) != "undefined")   if(String(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelBIT2")[0].childNodes[0].nodeValue).toLowerCase()=="true")BestellungArtikelBIT2=1;   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString14")[0].childNodes[0]) != "undefined")   BestellungArtikelString14=String(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString14")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString15")[0].childNodes[0]) != "undefined")   BestellungArtikelString15=String(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString15")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString16")[0].childNodes[0]) != "undefined")   BestellungArtikelString16=String(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString16")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString17")[0].childNodes[0]) != "undefined")   BestellungArtikelString17=String(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString17")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString18")[0].childNodes[0]) != "undefined")   BestellungArtikelString18=String(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString18")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString19")[0].childNodes[0]) != "undefined")   BestellungArtikelString19=String(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString19")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString20")[0].childNodes[0]) != "undefined")   BestellungArtikelString20=String(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString20")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString21")[0].childNodes[0]) != "undefined")   BestellungArtikelString21=String(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString21")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString22")[0].childNodes[0]) != "undefined")   BestellungArtikelString22=String(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString22")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString23")[0].childNodes[0]) != "undefined")   BestellungArtikelString23=String(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString23")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString24")[0].childNodes[0]) != "undefined")   BestellungArtikelString24=String(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString24")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString25")[0].childNodes[0]) != "undefined")   BestellungArtikelString25=String(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString25")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString26")[0].childNodes[0]) != "undefined")   BestellungArtikelString26=String(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString26")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString27")[0].childNodes[0]) != "undefined")   BestellungArtikelString27=String(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString27")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString28")[0].childNodes[0]) != "undefined")   BestellungArtikelString28=String(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString28")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString29")[0].childNodes[0]) != "undefined")   BestellungArtikelString29=String(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelString29")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelInt5")[0].childNodes[0]) != "undefined")   BestellungArtikelInt5=parseInt(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelInt5")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("Status")[0].childNodes[0]) != "undefined")   Status=parseInt(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("Status")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelFloat5")[0].childNodes[0]) != "undefined")   BestellungArtikelFloat5=parseFloat(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelFloat5")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelFloat6")[0].childNodes[0]) != "undefined")   BestellungArtikelFloat6=parseFloat(xmlDoc.getElementsByTagName("Artikel")[j].getElementsByTagName("BestellungArtikelFloat6")[0].childNodes[0].nodeValue);   OneArtikelAllgemein.push(new BestellungArtikelObj(prIDX,frIDX,Datum1,Datum2,Datum3,Datum4,BestellungArtikelString10,BestellungArtikelString11,BestellungArtikelString12,BestellungArtikelString13,BestellungArtikelInt1,BestellungArtikelInt2,BestellungArtikelInt3,BestellungArtikelInt4,BestellungArtikelFloat1,BestellungArtikelFloat2,BestellungArtikelFloat3,BestellungArtikelFloat4,BestellungArtikelBIT1,BestellungArtikelBIT2,BestellungArtikelString14,BestellungArtikelString15,BestellungArtikelString16,BestellungArtikelString17,BestellungArtikelString18,BestellungArtikelString19,BestellungArtikelString20,BestellungArtikelString21,BestellungArtikelString22,BestellungArtikelString23,BestellungArtikelString24,BestellungArtikelString25,BestellungArtikelString26,BestellungArtikelString27,BestellungArtikelString28,BestellungArtikelString29,BestellungArtikelInt5,Status,BestellungArtikelFloat5,BestellungArtikelFloat6,""));   }      var prIDX,frIDX,Datum1,Datum2,Datum3,Datum4,BestellungBetragString10,BestellungBetragString11,BestellungBetragString12,BestellungBetragString13,BestellungBetragInt1,BestellungBetragInt2,BestellungBetragInt3,BestellungBetragInt4,BestellungBetragFloat1,BestellungBetragFloat2,BestellungBetragFloat3,BestellungBetragFloat4,BestellungBetragBIT1,BestellungBetragBIT2,BestellungBetragString14,BestellungBetragString15,BestellungBetragString16,BestellungBetragString17,BestellungBetragString18,BestellungBetragString19,BestellungBetragString20,BestellungBetragString21,BestellungBetragString22,BestellungBetragString23,BestellungBetragString24,BestellungBetragString25,BestellungBetragString26,BestellungBetragString27,BestellungBetragString28,BestellungBetragString29,BestellungBetragInt5,Status,BestellungBetragFloat5,BestellungBetragFloat6;   for(var j=0; j<xmlDoc.getElementsByTagName("Betrag").length; j++){   prIDX=0;frIDX=0;Datum1="";Datum2="";Datum3="";Datum4="";BestellungBetragString10="";BestellungBetragString11="";BestellungBetragString12="";BestellungBetragString13="";BestellungBetragInt1=0;BestellungBetragInt2=0;BestellungBetragInt3=0;BestellungBetragInt4=0;BestellungBetragFloat1=0;BestellungBetragFloat2=0;BestellungBetragFloat3=0;BestellungBetragFloat4=0;BestellungBetragBIT1=0;BestellungBetragBIT2=0;BestellungBetragString14="";BestellungBetragString15="";BestellungBetragString16="";BestellungBetragString17="";BestellungBetragString18="";BestellungBetragString19="";BestellungBetragString20="";BestellungBetragString21="";BestellungBetragString22="";BestellungBetragString23="";BestellungBetragString24="";BestellungBetragString25="";BestellungBetragString26="";BestellungBetragString27="";BestellungBetragString28="";BestellungBetragString29="";BestellungBetragInt5=0;Status=0;BestellungBetragFloat5=0;BestellungBetragFloat6=0;   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("prIDX")[0].childNodes[0]) != "undefined")   prIDX=parseInt(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("prIDX")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("frIDX")[0].childNodes[0]) != "undefined")   frIDX=parseInt(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("frIDX")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("Datum1")[0].childNodes[0]) != "undefined")   Datum1=String(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("Datum1")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("Datum2")[0].childNodes[0]) != "undefined")   Datum2=String(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("Datum2")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("Datum3")[0].childNodes[0]) != "undefined")   Datum3=String(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("Datum3")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("Datum4")[0].childNodes[0]) != "undefined")   Datum4=String(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("Datum4")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString10")[0].childNodes[0]) != "undefined")   BestellungBetragString10=String(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString10")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString11")[0].childNodes[0]) != "undefined")   BestellungBetragString11=String(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString11")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString12")[0].childNodes[0]) != "undefined")   BestellungBetragString12=String(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString12")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString13")[0].childNodes[0]) != "undefined")   BestellungBetragString13=String(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString13")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragInt1")[0].childNodes[0]) != "undefined")   BestellungBetragInt1=parseInt(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragInt1")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragInt2")[0].childNodes[0]) != "undefined")   BestellungBetragInt2=parseInt(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragInt2")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragInt3")[0].childNodes[0]) != "undefined")   BestellungBetragInt3=parseInt(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragInt3")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragInt4")[0].childNodes[0]) != "undefined")   BestellungBetragInt4=parseInt(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragInt4")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragFloat1")[0].childNodes[0]) != "undefined")   BestellungBetragFloat1=parseFloat(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragFloat1")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragFloat2")[0].childNodes[0]) != "undefined")   BestellungBetragFloat2=parseFloat(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragFloat2")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragFloat3")[0].childNodes[0]) != "undefined")   BestellungBetragFloat3=parseFloat(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragFloat3")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragFloat4")[0].childNodes[0]) != "undefined")   BestellungBetragFloat4=parseFloat(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragFloat4")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragBIT1")[0].childNodes[0]) != "undefined")   if(String(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragBIT1")[0].childNodes[0].nodeValue).toLowerCase()=="true")BestellungBetragBIT1=1;   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragBIT2")[0].childNodes[0]) != "undefined")   if(String(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragBIT2")[0].childNodes[0].nodeValue).toLowerCase()=="true")BestellungBetragBIT2=1;   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString14")[0].childNodes[0]) != "undefined")   BestellungBetragString14=String(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString14")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString15")[0].childNodes[0]) != "undefined")   BestellungBetragString15=String(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString15")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString16")[0].childNodes[0]) != "undefined")   BestellungBetragString16=String(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString16")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString17")[0].childNodes[0]) != "undefined")   BestellungBetragString17=String(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString17")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString18")[0].childNodes[0]) != "undefined")   BestellungBetragString18=String(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString18")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString19")[0].childNodes[0]) != "undefined")   BestellungBetragString19=String(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString19")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString20")[0].childNodes[0]) != "undefined")   BestellungBetragString20=String(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString20")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString21")[0].childNodes[0]) != "undefined")   BestellungBetragString21=String(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString21")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString22")[0].childNodes[0]) != "undefined")   BestellungBetragString22=String(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString22")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString23")[0].childNodes[0]) != "undefined")   BestellungBetragString23=String(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString23")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString24")[0].childNodes[0]) != "undefined")   BestellungBetragString24=String(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString24")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString25")[0].childNodes[0]) != "undefined")   BestellungBetragString25=String(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString25")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString26")[0].childNodes[0]) != "undefined")   BestellungBetragString26=String(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString26")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString27")[0].childNodes[0]) != "undefined")   BestellungBetragString27=String(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString27")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString28")[0].childNodes[0]) != "undefined")   BestellungBetragString28=String(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString28")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString29")[0].childNodes[0]) != "undefined")   BestellungBetragString29=String(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragString29")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragInt5")[0].childNodes[0]) != "undefined")   BestellungBetragInt5=parseInt(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragInt5")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("Status")[0].childNodes[0]) != "undefined")   Status=parseInt(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("Status")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragFloat5")[0].childNodes[0]) != "undefined")   BestellungBetragFloat5=parseFloat(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragFloat5")[0].childNodes[0].nodeValue);   if(typeof(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragFloat6")[0].childNodes[0]) != "undefined")   BestellungBetragFloat6=parseFloat(xmlDoc.getElementsByTagName("Betrag")[j].getElementsByTagName("BestellungBetragFloat6")[0].childNodes[0].nodeValue);   OneBetragAllgemein.push(new BestellungBetragObj(prIDX,frIDX,Datum1,Datum2,Datum3,Datum4,BestellungBetragString10,BestellungBetragString11,BestellungBetragString12,BestellungBetragString13,BestellungBetragInt1,BestellungBetragInt2,BestellungBetragInt3,BestellungBetragInt4,BestellungBetragFloat1,BestellungBetragFloat2,BestellungBetragFloat3,BestellungBetragFloat4,BestellungBetragBIT1,BestellungBetragBIT2,BestellungBetragString14,BestellungBetragString15,BestellungBetragString16,BestellungBetragString17,BestellungBetragString18,BestellungBetragString19,BestellungBetragString20,BestellungBetragString21,BestellungBetragString22,BestellungBetragString23,BestellungBetragString24,BestellungBetragString25,BestellungBetragString26,BestellungBetragString27,BestellungBetragString28,BestellungBetragString29,BestellungBetragInt5,Status,BestellungBetragFloat5,BestellungBetragFloat6));   }      setRechnungPDF();}function setRechnungPDF(){	var filename = String("Laaver_Rechnung_B"+parseInt(parseInt(OneBestellung.prIDX)+10000));	var RechnungType = "";	if(document.getElementById("flush-heading1-radio").checked) RechnungType = "Paypal";	else if(document.getElementById("flush-heading2-radio").checked) RechnungType = "Stripe";	else if(document.getElementById("flush-heading3-radio").checked) RechnungType = "Rechnung";		$.ajax({	  type: "POST",		 url: "/Rechnung_PDF",		 data:{			"OneBestellung":JSON.stringify(OneBestellung),			"OneBillingAdresseAllgemein":JSON.stringify(OneBillingAdresseAllgemein),			"OneShippingAdresseAllgemein":JSON.stringify(OneShippingAdresseAllgemein),			"OneArtikelAllgemein":JSON.stringify(OneArtikelAllgemein),			"OneBetragAllgemein":JSON.stringify(OneBetragAllgemein),			"filename":String(filename),			"RechnungType":RechnungType,		 },		 cache: false,		 success: function (response) {			 sendBestellungErfolgreichEmail(filename);		 },		 error: function (response) {			console.log(response);		 }    });}function sendBestellungErfolgreichEmail(filename){	$.ajax({	  type: "POST",		 url: "/Bestellung_Erfolgreich_Email",		 data:{			"OneBestellung":JSON.stringify(OneBestellung),			"OneBillingAdresseAllgemein":JSON.stringify(OneBillingAdresseAllgemein),			"OneShippingAdresseAllgemein":JSON.stringify(OneShippingAdresseAllgemein),			"OneArtikelAllgemein":JSON.stringify(OneArtikelAllgemein),			"OneBetragAllgemein":JSON.stringify(OneBetragAllgemein),			"oneKunden": JSON.stringify(oneKunden),			"filename":String(filename),		 },		 cache: false,		 success: function (response) {			 switch (lang) {				case "en": alert("Purchase successful! Thank you for your order. We will process it as soon as possible."); break;				case "de": alert("Kauf erfolgreich! Danke für deinen Einkauf. Wir werden Ihre Bestellung schnellstmöglich bearbeiten."); break;				case "fr": alert("Achat réussi ! Merci pour votre commande. Nous la traiterons dans les plus brefs délais."); break;				case "cn": alert("购买成功！感谢您的订购，我们将尽快处理您的订单。"); break;			}			var storage = window.sessionStorage;								storage.removeItem('VorlaufigKaufwagenArr');			if(AnfangGlobalHasUserID)				 setTimeout(function(){ window.location.href = "/konto?Ziel=2"; },3000);			else setTimeout(function(){ window.location.href = "/"; },3000);		 },		 error: function (response) {			console.log(response);		 }    });}function checkBedingungscheckbox(){	if(document.getElementById("Bedingungscheckbox").checked) document.getElementById("goToCheckoutButton").removeAttribute("disabled");	else document.getElementById("goToCheckoutButton").setAttribute("disabled","disabled");}function BestellungBetragObj(prIDX,frIDX,Datum1,Datum2,Datum3,Datum4,BestellungBetragString10,BestellungBetragString11,BestellungBetragString12,BestellungBetragString13,BestellungBetragInt1,BestellungBetragInt2,BestellungBetragInt3,BestellungBetragInt4,BestellungBetragFloat1,BestellungBetragFloat2,BestellungBetragFloat3,BestellungBetragFloat4,BestellungBetragBIT1,BestellungBetragBIT2,BestellungBetragString14,BestellungBetragString15,BestellungBetragString16,BestellungBetragString17,BestellungBetragString18,BestellungBetragString19,BestellungBetragString20,BestellungBetragString21,BestellungBetragString22,BestellungBetragString23,BestellungBetragString24,BestellungBetragString25,BestellungBetragString26,BestellungBetragString27,BestellungBetragString28,BestellungBetragString29,BestellungBetragInt5,Status,BestellungBetragFloat5,BestellungBetragFloat6){   this.prIDX=prIDX;   this.frIDX=frIDX;   this.Datum1=Datum1;   this.Datum2=Datum2;   this.Datum3=Datum3;   this.Datum4=Datum4;   this.BestellungBetragString10=BestellungBetragString10;   this.BestellungBetragString11=BestellungBetragString11;   this.BestellungBetragString12=BestellungBetragString12;   this.BestellungBetragString13=BestellungBetragString13;   this.BestellungBetragInt1=BestellungBetragInt1;   this.BestellungBetragInt2=BestellungBetragInt2;   this.BestellungBetragInt3=BestellungBetragInt3;   this.BestellungBetragInt4=BestellungBetragInt4;   this.BestellungBetragFloat1=BestellungBetragFloat1;   this.BestellungBetragFloat2=BestellungBetragFloat2;   this.BestellungBetragFloat3=BestellungBetragFloat3;   this.BestellungBetragFloat4=BestellungBetragFloat4;   this.BestellungBetragBIT1=BestellungBetragBIT1;   this.BestellungBetragBIT2=BestellungBetragBIT2;   this.BestellungBetragString14=BestellungBetragString14;   this.BestellungBetragString15=BestellungBetragString15;   this.BestellungBetragString16=BestellungBetragString16;   this.BestellungBetragString17=BestellungBetragString17;   this.BestellungBetragString18=BestellungBetragString18;   this.BestellungBetragString19=BestellungBetragString19;   this.BestellungBetragString20=BestellungBetragString20;   this.BestellungBetragString21=BestellungBetragString21;   this.BestellungBetragString22=BestellungBetragString22;   this.BestellungBetragString23=BestellungBetragString23;   this.BestellungBetragString24=BestellungBetragString24;   this.BestellungBetragString25=BestellungBetragString25;   this.BestellungBetragString26=BestellungBetragString26;   this.BestellungBetragString27=BestellungBetragString27;   this.BestellungBetragString28=BestellungBetragString28;   this.BestellungBetragString29=BestellungBetragString29;   this.BestellungBetragInt5=BestellungBetragInt5;   this.Status=Status;   this.BestellungBetragFloat5=BestellungBetragFloat5;   this.BestellungBetragFloat6=BestellungBetragFloat6;}function BestellungArtikelObj(prIDX,frIDX,Datum1,Datum2,Datum3,Datum4,BestellungArtikelString10,BestellungArtikelString11,BestellungArtikelString12,BestellungArtikelString13,BestellungArtikelInt1,BestellungArtikelInt2,BestellungArtikelInt3,BestellungArtikelInt4,BestellungArtikelFloat1,BestellungArtikelFloat2,BestellungArtikelFloat3,BestellungArtikelFloat4,BestellungArtikelBIT1,BestellungArtikelBIT2,BestellungArtikelString14,BestellungArtikelString15,BestellungArtikelString16,BestellungArtikelString17,BestellungArtikelString18,BestellungArtikelString19,BestellungArtikelString20,BestellungArtikelString21,BestellungArtikelString22,BestellungArtikelString23,BestellungArtikelString24,BestellungArtikelString25,BestellungArtikelString26,BestellungArtikelString27,BestellungArtikelString28,BestellungArtikelString29,BestellungArtikelInt5,Status,BestellungArtikelFloat5,BestellungArtikelFloat6,Images){   this.prIDX=prIDX;   this.frIDX=frIDX;   this.Datum1=Datum1;   this.Datum2=Datum2;   this.Datum3=Datum3;   this.Datum4=Datum4;   this.BestellungArtikelString10=BestellungArtikelString10;   this.BestellungArtikelString11=BestellungArtikelString11;   this.BestellungArtikelString12=BestellungArtikelString12;   this.BestellungArtikelString13=BestellungArtikelString13;   this.BestellungArtikelInt1=BestellungArtikelInt1;   this.BestellungArtikelInt2=BestellungArtikelInt2;   this.BestellungArtikelInt3=BestellungArtikelInt3;   this.BestellungArtikelInt4=BestellungArtikelInt4;   this.BestellungArtikelFloat1=BestellungArtikelFloat1;   this.BestellungArtikelFloat2=BestellungArtikelFloat2;   this.BestellungArtikelFloat3=BestellungArtikelFloat3;   this.BestellungArtikelFloat4=BestellungArtikelFloat4;   this.BestellungArtikelBIT1=BestellungArtikelBIT1;   this.BestellungArtikelBIT2=BestellungArtikelBIT2;   this.BestellungArtikelString14=BestellungArtikelString14;   this.BestellungArtikelString15=BestellungArtikelString15;   this.BestellungArtikelString16=BestellungArtikelString16;   this.BestellungArtikelString17=BestellungArtikelString17;   this.BestellungArtikelString18=BestellungArtikelString18;   this.BestellungArtikelString19=BestellungArtikelString19;   this.BestellungArtikelString20=BestellungArtikelString20;   this.BestellungArtikelString21=BestellungArtikelString21;   this.BestellungArtikelString22=BestellungArtikelString22;   this.BestellungArtikelString23=BestellungArtikelString23;   this.BestellungArtikelString24=BestellungArtikelString24;   this.BestellungArtikelString25=BestellungArtikelString25;   this.BestellungArtikelString26=BestellungArtikelString26;   this.BestellungArtikelString27=BestellungArtikelString27;   this.BestellungArtikelString28=BestellungArtikelString28;   this.BestellungArtikelString29=BestellungArtikelString29;   this.BestellungArtikelInt5=BestellungArtikelInt5;   this.Status=Status;   this.BestellungArtikelFloat5=BestellungArtikelFloat5;   this.BestellungArtikelFloat6=BestellungArtikelFloat6;   this.Images=Images;}function BestellungShippingObj(prIDX,frIDX,Datum1,Datum2,Datum3,Datum4,BestellungShippingString10,BestellungShippingString11,BestellungShippingString12,BestellungShippingString13,BestellungShippingInt1,BestellungShippingInt2,BestellungShippingInt3,BestellungShippingInt4,BestellungShippingFloat1,BestellungShippingFloat2,BestellungShippingFloat3,BestellungShippingFloat4,BestellungShippingBIT1,BestellungShippingBIT2,BestellungShippingString14,BestellungShippingString15,BestellungShippingString16,BestellungShippingString17,BestellungShippingString18,BestellungShippingString19,BestellungShippingString20,BestellungShippingString21,BestellungShippingString22,BestellungShippingString23,BestellungShippingString24,BestellungShippingString25,BestellungShippingString26,BestellungShippingString27,BestellungShippingString28,BestellungShippingString29,BestellungShippingInt5,Status,BestellungShippingFloat5,BestellungShippingFloat6){   this.prIDX=prIDX;   this.frIDX=frIDX;   this.Datum1=Datum1;   this.Datum2=Datum2;   this.Datum3=Datum3;   this.Datum4=Datum4;   this.BestellungShippingString10=BestellungShippingString10;   this.BestellungShippingString11=BestellungShippingString11;   this.BestellungShippingString12=BestellungShippingString12;   this.BestellungShippingString13=BestellungShippingString13;   this.BestellungShippingInt1=BestellungShippingInt1;   this.BestellungShippingInt2=BestellungShippingInt2;   this.BestellungShippingInt3=BestellungShippingInt3;   this.BestellungShippingInt4=BestellungShippingInt4;   this.BestellungShippingFloat1=BestellungShippingFloat1;   this.BestellungShippingFloat2=BestellungShippingFloat2;   this.BestellungShippingFloat3=BestellungShippingFloat3;   this.BestellungShippingFloat4=BestellungShippingFloat4;   this.BestellungShippingBIT1=BestellungShippingBIT1;   this.BestellungShippingBIT2=BestellungShippingBIT2;   this.BestellungShippingString14=BestellungShippingString14;   this.BestellungShippingString15=BestellungShippingString15;   this.BestellungShippingString16=BestellungShippingString16;   this.BestellungShippingString17=BestellungShippingString17;   this.BestellungShippingString18=BestellungShippingString18;   this.BestellungShippingString19=BestellungShippingString19;   this.BestellungShippingString20=BestellungShippingString20;   this.BestellungShippingString21=BestellungShippingString21;   this.BestellungShippingString22=BestellungShippingString22;   this.BestellungShippingString23=BestellungShippingString23;   this.BestellungShippingString24=BestellungShippingString24;   this.BestellungShippingString25=BestellungShippingString25;   this.BestellungShippingString26=BestellungShippingString26;   this.BestellungShippingString27=BestellungShippingString27;   this.BestellungShippingString28=BestellungShippingString28;   this.BestellungShippingString29=BestellungShippingString29;   this.BestellungShippingInt5=BestellungShippingInt5;   this.Status=Status;   this.BestellungShippingFloat5=BestellungShippingFloat5;   this.BestellungShippingFloat6=BestellungShippingFloat6;}function BestellungBillingObj(prIDX,frIDX,Datum1,Datum2,Datum3,Datum4,BestellungBillingString10,BestellungBillingString11,BestellungBillingString12,BestellungBillingString13,BestellungBillingInt1,BestellungBillingInt2,BestellungBillingInt3,BestellungBillingInt4,BestellungBillingFloat1,BestellungBillingFloat2,BestellungBillingFloat3,BestellungBillingFloat4,BestellungBillingBIT1,BestellungBillingBIT2,BestellungBillingString14,BestellungBillingString15,BestellungBillingString16,BestellungBillingString17,BestellungBillingString18,BestellungBillingString19,BestellungBillingString20,BestellungBillingString21,BestellungBillingString22,BestellungBillingString23,BestellungBillingString24,BestellungBillingString25,BestellungBillingString26,BestellungBillingString27,BestellungBillingString28,BestellungBillingString29,BestellungBillingInt5,Status,BestellungBillingFloat5,BestellungBillingFloat6){   this.prIDX=prIDX;   this.frIDX=frIDX;   this.Datum1=Datum1;   this.Datum2=Datum2;   this.Datum3=Datum3;   this.Datum4=Datum4;   this.BestellungBillingString10=BestellungBillingString10;   this.BestellungBillingString11=BestellungBillingString11;   this.BestellungBillingString12=BestellungBillingString12;   this.BestellungBillingString13=BestellungBillingString13;   this.BestellungBillingInt1=BestellungBillingInt1;   this.BestellungBillingInt2=BestellungBillingInt2;   this.BestellungBillingInt3=BestellungBillingInt3;   this.BestellungBillingInt4=BestellungBillingInt4;   this.BestellungBillingFloat1=BestellungBillingFloat1;   this.BestellungBillingFloat2=BestellungBillingFloat2;   this.BestellungBillingFloat3=BestellungBillingFloat3;   this.BestellungBillingFloat4=BestellungBillingFloat4;   this.BestellungBillingBIT1=BestellungBillingBIT1;   this.BestellungBillingBIT2=BestellungBillingBIT2;   this.BestellungBillingString14=BestellungBillingString14;   this.BestellungBillingString15=BestellungBillingString15;   this.BestellungBillingString16=BestellungBillingString16;   this.BestellungBillingString17=BestellungBillingString17;   this.BestellungBillingString18=BestellungBillingString18;   this.BestellungBillingString19=BestellungBillingString19;   this.BestellungBillingString20=BestellungBillingString20;   this.BestellungBillingString21=BestellungBillingString21;   this.BestellungBillingString22=BestellungBillingString22;   this.BestellungBillingString23=BestellungBillingString23;   this.BestellungBillingString24=BestellungBillingString24;   this.BestellungBillingString25=BestellungBillingString25;   this.BestellungBillingString26=BestellungBillingString26;   this.BestellungBillingString27=BestellungBillingString27;   this.BestellungBillingString28=BestellungBillingString28;   this.BestellungBillingString29=BestellungBillingString29;   this.BestellungBillingInt5=BestellungBillingInt5;   this.Status=Status;   this.BestellungBillingFloat5=BestellungBillingFloat5;   this.BestellungBillingFloat6=BestellungBillingFloat6;}function BestellungObj(prIDX,frIDX,Datum1,Datum2,Datum3,Datum4,BestellungString10,BestellungString11,BestellungString12,BestellungString13,BestellungInt1,BestellungInt2,BestellungInt3,BestellungInt4,BestellungFloat1,BestellungFloat2,BestellungFloat3,BestellungFloat4,BestellungBIT1,BestellungBIT2,BestellungString14,BestellungString15,BestellungString16,BestellungString17,BestellungString18,BestellungString19,BestellungString20,BestellungString21,BestellungString22,BestellungString23,BestellungString24,BestellungString25,BestellungString26,BestellungString27,BestellungString28,BestellungString29,BestellungInt5,Status,BestellungFloat5,BestellungFloat6){   this.prIDX=prIDX;   this.frIDX=frIDX;   this.Datum1=Datum1;   this.Datum2=Datum2;   this.Datum3=Datum3;   this.Datum4=Datum4;   this.BestellungString10=BestellungString10;   this.BestellungString11=BestellungString11;   this.BestellungString12=BestellungString12;   this.BestellungString13=BestellungString13;   this.BestellungInt1=BestellungInt1;   this.BestellungInt2=BestellungInt2;   this.BestellungInt3=BestellungInt3;   this.BestellungInt4=BestellungInt4;   this.BestellungFloat1=BestellungFloat1;   this.BestellungFloat2=BestellungFloat2;   this.BestellungFloat3=BestellungFloat3;   this.BestellungFloat4=BestellungFloat4;   this.BestellungBIT1=BestellungBIT1;   this.BestellungBIT2=BestellungBIT2;   this.BestellungString14=BestellungString14;   this.BestellungString15=BestellungString15;   this.BestellungString16=BestellungString16;   this.BestellungString17=BestellungString17;   this.BestellungString18=BestellungString18;   this.BestellungString19=BestellungString19;   this.BestellungString20=BestellungString20;   this.BestellungString21=BestellungString21;   this.BestellungString22=BestellungString22;   this.BestellungString23=BestellungString23;   this.BestellungString24=BestellungString24;   this.BestellungString25=BestellungString25;   this.BestellungString26=BestellungString26;   this.BestellungString27=BestellungString27;   this.BestellungString28=BestellungString28;   this.BestellungString29=BestellungString29;   this.BestellungInt5=BestellungInt5;   this.Status=Status;   this.BestellungFloat5=BestellungFloat5;   this.BestellungFloat6=BestellungFloat6;}function searchCountrycodeAsyn() {	CountrycodeArr = new Array();    $.ajax({        type: "POST",        url: "/frontend_kasse_8",        contentType: 'application/x-www-form-urlencoded',        xhrFields: { withCredentials: true },        cache: false,        data: {},        success: function(response) {            if (response != 1) {                response.forEach(function(item) {					var countrycode = new CountrycodeObj(						item.prIDX, item.Code, item.Name, item.isEU					);					CountrycodeArr.push(countrycode);				});            }        },        error: function(error) {            console.log(error);        }    });} function CountrycodeObj(prIDX,Code,Name,isEU){	this.prIDX=prIDX;	this.Code=Code;	this.Name=Name;	this.isEU=isEU; }  function isValidEmail(email) {    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;    return emailRegex.test(email);}function getCountryCodeByName(Name){	var txt="";	for(var i=0; i<CountrycodeArr.length; i++){		if(CountrycodeArr[i].Name==Name){			txt = unescape(CountrycodeArr[i].Code);		}	}	return txt;}function setGlobalRabatteSum(){	return parseFloat(parseFloat(globalSumme-globalCoupon) * parseFloat(globalRabatte/100));}function setGlobalCouponSum(value){	return parseFloat(globalSumme * parseFloat(value/100));}